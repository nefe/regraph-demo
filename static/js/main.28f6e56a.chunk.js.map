{"version":3,"sources":["editor/defines.tsx","editor/components/NodePanel.tsx","editor/utils/FullsreenUtils.ts","editor/components/Toolbar.tsx","editor/components/Edge.tsx","editor/utils/types.ts","editor/components/Node.tsx","editor/hooks/useResize.tsx","editor/utils/calc.ts","editor/utils/useDragSelect.ts","editor/components/DragSelector.tsx","editor/ContextMenu.tsx","editor/hooks/useClickAway.tsx","editor/EditorNode.tsx","editor/EditorEdges.tsx","editor/utils/find.ts","utils.tsx","editor/CanvasContent.tsx","editor/hooks/useEditorStore.tsx","editor/hooks/useLocalStorage.tsx","editor/hooks/useHistory.tsx","editor/hooks/useKeyPress.tsx","editor/hooks/useEventListener.tsx","editor/index.tsx","editor/utils/layout.ts","bubble/utils.ts","bubble/Bubble.tsx","bubble/data.ts","bubble/index.tsx","App.tsx","index.tsx"],"names":["ComponentType","OutputType","ComponentMap","common","ComponentKey","COMMON_COMPONENT","type","key","rect","name","width","height","icon","style","border","disabled","rectRadius","borderRadius","circle","xmlns","version","cx","cy","r","stroke","strokeWidth","fill","COMPONENT_CATEGORY","OperateType","useState","React","Panel","Collapse","NodePanel","props","componnetList","Object","values","onDrag","visible","collapseKey","setCollapseKey","boxClass","classNames","handleDrag","item","className","activeKey","onChange","items","bordered","accordion","map","total","length","header","child","boxItemClass","draggable","bind","isFull","doc","document","fullscreenElement","webkitFullscreenElement","Toolbar","ref","screenScale","changeScreenScale","handleResizeTo","onShear","onCopy","onPaste","onDelete","onDragSelect","onSave","onLayout","onAdapt","scale","String","Math","round","isSave","includes","isFullScreen","isZoom","isAdapt","isShear","isCopy","isPaste","isDelete","isDragSelect","isLayout","fullscreenStatus","handleResize","isLager","value","handleFullScreen","element","exitFullscreen","webkitExitFullscreen","current","requestFullscreen","mozRequestFullScreen","msRequestFullscreen","webkitRequestFullscreen","fullScreenClassName","fullscreen","title","onClick","renderButtons","Edge","id","onContextMenu","object","lineAppendWidth","path","startArrow","endArrow","markerStart","endStart","markerWidth","markerHeight","refX","refY","orient","markerUnits","d","_","markerEnd","useRef","useEffect","Node","x","y","children","currTrans","isSelected","onResize","showSelector","setShowSelector","containerRef","isResize","nodeWidth","setNodeWidth","nodeHeight","setNodeHeight","nodeLeft","setNodeLeft","nodeTop","setNodeTop","resizers","querySelectorAll","querySelector","originWidth","originHeight","originMouseX","originMouseY","i","currentResizer","addEventListener","e","preventDefault","parseFloat","getComputedStyle","getPropertyValue","replace","getBoundingClientRect","left","top","pageX","pageY","window","resize","stopResize","newWidth","newHeight","classList","contains","removeEventListener","useResize","resizeWidth","resizeHeight","resizeX","resizeY","NODE_SELECTOR","position","right","renderResize","data-type","renderNodeSelector","data-position","onMouseEnter","onMouseLeave","event","stopPropagation","container","domNode","offsetTop","offsetLeft","targetDomNode","body","offsetParent","getOffset","screenX","clientX","screenY","clientY","newX","k","newY","quadratic","sourcePoint","targetPoint","ratio","detectZoom","sourceX","targetX","centerX","centerY","tolerance","sub","max","abs","join","outerWidth","innerWidth","screen","ua","navigator","userAgent","toLowerCase","undefined","devicePixelRatio","test","indexOf","deviceXDPI","logicalXDPI","calcLinkPosition","node","useCallback","initSelectorProps","direction","useMemo","DragSeletor","overlayColor","selectorStyle","onClose","getPopupContainer","dragSelectContainerRef","shape","shapeProps","setShapeProps","pathData","setPathData","mousdownX","mousdownY","handleMouseMove","layerX","layerY","diffX","newShapeProps","handlePathData","handleMouseUp","handleMouseDown","drag","useDragSelect","handleClick","dom","classes","popupContainer","Number","marginLeft","match","marginRight","getWidth","marginTop","marginBottom","getHeight","background","ContextMenu","display","useClickAway","onClickAway","eventName","handler","el","target","EditorNode","currentNode","onSelect","isDragged","interactive","nodeRef","menuShow","setMenuShow","menuPos","setMenuPos","menuRef","editorNodeRef","borderColor","isCircle","isRadius","isDiamond","borderClass","dragging","menuList","delete","handleClickMenu","handleClickNode","newPosition","transform","triggerNode","parentNode","Item","EditorEdges","links","nodes","selectedLinks","onSelectLink","isDraggingLink","dragLink","edgesPath","link","source","sourcePos","targetPos","uNode","vertex","vNode","sourceY","targetY","originX","originY","renderDraggingLink","findNearbyNode","point","range","targetNode","minDis","Infinity","forEach","v","minDistance","sqrt","distance","CanvasContent","nodesContainerRef","screenWidth","screenHeight","handleApplyTransform","handleAdapt","openContainerMenu","toggleDragNode","isDraggingNode","onDragNodeMouseMove","onDragNodeMouseUp","toggleDragLink","onDragLinkMouseMove","onDragLinkMouseUp","setState","preState","onNodesContainerMouseDown","component","c","dataset","onDragLinkMouseDown","onDragNodeMouseDown","onContainerMouseDown","hasNodeOrLink","handleClearActive","onNodesContainerMouseMove","isNodeOrLink","currentHoverNode","dragNode","dragNodeOffset","originId","setLinks","state","nearNode","newLink","setNodes","getTransformInfo","setCurrTrans","getScreenHandler","handleMap","setSelectedLinks","setSelectedNodes","array","inNode","inLink","handleShowAll","minX","maxX","minY","maxY","componentWidth","componentHeight","zoomIdentity","translate","min","P0","P1","invert","newTransform","layout","datas","downRelations","filter","sourceId","targetId","upRelations","maxWidth","maxHeight","newNodes","BaseLayout","DAG","isTransverse","padding","margin","bottom","defaultNodeWidth","defaultNodeHeight","getMultiDAG","n","view","index","slice","onClickNode","selectedNodes","isKeyPressing","onSelectNode","deleteNodes","onContextMenuLink","currentPos","deleteVisible","updateNodes","renderCanvas","menuDisplay","this","nextProps","nextState","newNode","NODE_WIDTH","NODE_HEIGHT","uuid","needMinimap","needRefresh","zoomEnabled","mapPosition","mapWidth","mapHeight","mapRectStyle","focusEnabled","onScreenChange","onDragOver","onDrop","useEditorStore","editorData","setEditorData","initialValue","localStorage","getItem","JSON","parse","error","console","log","storedValue","setStoredValue","a","Promise","resolve","valueToStore","Function","setItem","stringify","useLocalStorage","editorLocalData","setEditorLocalData","setDragNode","copiedNodes","setCopiedNodes","handleSaveData","result","findIndex","updateLinks","newLinks","aliasKeyCodeMap","esc","tab","enter","space","up","down","aliasKeyMap","modifierKey","ctrl","ctrlKey","shift","shiftKey","alt","altKey","meta","metaKey","noop","isType","obj","prototype","toString","call","genFilterKey","keyFilter","keyCode","genArr","split","genLen","genModifier","aliasKey","aliasKeyCode","toUpperCase","genKeyFormater","some","defaultEvents","useKeyPress","eventHandler","option","events","callbackRef","callbackHandler","genGuard","targetElement","useEventListener","options","savedHandler","passedInElement","eventListener","capture","once","passive","EditorDemo","dragSelectable","setDragSelectable","keyPressing","setKeyPressing","screenRef","canvasRef","getWrappedInstance","canvasInstance","handleDeleteNodes","ids","cloneNodes","handleDeleteLinks","activeLinks","linkList","diffLinks","handleNodesCopy","newCopiedNodes","handleShear","handleCopy","handlePaste","currentCopied","handleNodesPaste","handleDelete","handleSave","alert","isMac","platform","startsWith","renderOperation","renderNodePanel","strokeDasharray","selectorProps","points","poly","p","px","py","flag","l","j","sx","sy","tx","ty","pointInPoly","deleteLinks","renderProperty","PI","sin","cos","atan2","d3Format","require","storageUnits","_formatUnit","num","numberValue","unit","cm","floor","log2","pow","Bubble","svg","matrix","selectedNode","hoverNode","handleInitData","data","relatedCategories","cateId","cateName","storageSize","siblings","restore","handleCircleClick","resetCircleClick","handleNodeMouseEnter","handelNodeMouseLeave","rowCount","minSize","maxSize","newData","graph","generateGraph","relationNodes","u","bothway","push","center","fontSize","radius","textAnchor","tag","format","toFixed","formatUnit","getNodeReleation","relationHoverNodes","lineCount","ceil","ele","start","end","control","arrowPath","controlPoint","endPoint","endTangent","x1","y1","x2","y2","arrowAngle","angle","offsetX","offsetY","leftX","leftY","rightX","rightY","getArrow","rowIndex","lineIndex","renderText","defaultProps","BubbleDemo","Header","Layout","Content","rootElement","getElementById","render","basename","menuKey","setMenuKey","location","useLocation","pathname","theme","mode","selectedKeys","lineHeight","to","exact","Editor"],"mappings":"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","file":"static/js/main.28f6e56a.chunk.js","sourcesContent":["/**\n * @file \n */\n\nimport * as React from \"react\";\nimport * as _ from \"lodash\";\nimport { Icon } from \"antd\";\n\n// \nexport const NODE_WIDTH = 220;\nexport const NODE_HEIGHT = 60;\n\n// \nexport const MENU_WIDTH = 120;\nexport const MENU_HEIGHT = 196;\n// -\nexport const RIGHTDRAWER_WIDTH = 521;\n// -\nexport const SHECHEDULE_RIGHTDRAWER_WIDTH = 750;\n\n// \nexport const MAX_SCALE = 200;\nexport const MIN_SCALE = 50;\n\n// \nexport const COMPONENT_DISTANCE = 30;\n\n// ,\nexport const fullscreenDiffY = 130;\n\n// Context\nexport const CONTEXT_HEIGHT_DIFF = 155;\n\n// \nexport const CONNECTOR = \"_\";\n\n// \nexport const LINK_AREA = 30;\n\n// \n// \nexport const UNLINK = \"#52619b\";\n// \nexport const ACTIVE = \"#92ade3\";\n// \nexport const LINK = \"#b4bdcf\";\n\n// code30\nexport const operatorTypeCode = 30;\n\n// \nexport enum ComponentType {\n  /**  */\n  common = \"common\"\n  /**  */\n  // self = 'self'\n}\n\nexport const ComponentMap: Record<ComponentType, string> = {\n  [ComponentType.common]: \"\"\n  // [ComponentType.self]: ''\n};\n\nexport class Node {\n  /**  */\n  type?: string;\n\n  /** key */\n  key: string;\n\n  /**  */\n  name: string;\n\n  /** icon */\n  icon?: React.ReactNode;\n\n  /**  */\n  x?: number;\n\n  /**  */\n  y?: number;\n  /**  id */\n\n  width?: number;\n\n  height?: number;\n\n  id?: string;\n\n  /**  ref */\n  ref?: any;\n\n  /** , true: false:copy */\n  distribute?: boolean;\n\n  /**  */\n  webConfig?: {};\n\n  disabled?: boolean;\n}\n\nexport class NodePanel {\n  type: string;\n\n  key: string;\n\n  name: string;\n\n  icon: React.ReactNode;\n\n  disabled: boolean;\n}\n\nexport enum OutputType {\n  /**  */\n  mainOutput = \"mainOutput\",\n  /**  */\n  errorOutput = \"errorOutput\"\n}\n\nexport type LINK_POSITION = \"left\" | \"right\" | \"top\" | \"bottom\";\n\nexport interface Link {\n  /** id, source+CONNECTOR+target */\n  id: string;\n  /** id */\n  source: string;\n  /** id */\n  target: string;\n  /**  */\n  sourcePos?: string;\n  /**  */\n  targetPos?: string;\n}\n\nexport type LinkType = \"error\" | \"distribute\" | \"copy\";\n\n// icon\nexport const LinkTypeIconMap: Record<LinkType, string> = {\n  error: \"icon-cuowu\",\n  distribute: \"icon-fenfa\",\n  copy: \"icon-fuzhi1\"\n};\n\n// icon\nexport const LINKICON_WIDTH = 18;\nexport const LINKICON_HEIGHT = 18;\n\nexport enum ComponentKey {\n  rect = \"rect\",\n  rectRadius = 'rectRadius',\n  circle = \"circle\",\n  diamond = \"diamond\",\n  polygon = \"polygon\",\n  ellipse = \"ellipse\",\n  star = \"star\"\n}\n\n// \n// \nconst COMMON_COMPONENT: Node[] = [\n  /**  */\n  {\n    type: ComponentType.common,\n    key: ComponentKey.rect,\n    name: \"RECT\",\n    width: 100,\n    height: 100,\n    icon: (\n      <div style={{ width: 36, height: 36, border: \"2px solid #52619b\" }} />\n    ),\n    disabled: false\n  },\n  /**  */\n  {\n    type: ComponentType.common,\n    key: ComponentKey.rectRadius,\n    name: \"RECT-RADIU\",\n    width: 100,\n    height: 100,\n    icon: (\n      <div style={{ width: 36, height: 36, border: \"2px solid #52619b\", borderRadius: 10 }} />\n    ),\n    disabled: false\n  },\n  /**  */\n  {\n    type: ComponentType.common,\n    key: ComponentKey.circle,\n    name: \"CIRCLE\",\n    width: 100,\n    height: 100,\n    icon: (\n      <svg\n        xmlns=\"http://www.w3.org/2000/svg\"\n        version=\"1.1\"\n        width=\"72px\"\n        height=\"40px\"\n      >\n        <circle\n          cx=\"36\"\n          cy=\"20\"\n          r=\"18\"\n          stroke=\"#52619b\"\n          strokeWidth=\"2\"\n          fill=\"transparent\"\n        />\n      </svg>\n    ),\n    disabled: false\n  },\n]\n\n// \nexport const COMPONENT_CATEGORY: Record<ComponentType, Node[]> = {\n  [ComponentType.common]: COMMON_COMPONENT\n  // [ComponentType.self]: SELF_COMPONENT\n};\n\nexport const keyCodeMap = {\n  delete: 8,\n  copy: 67,\n  paste: 86\n};\n\n/**  */\nexport function getContainer() {\n  const pipelineDoms = document.getElementsByClassName(\"pipeline-canvas\");\n  return _.find(\n    pipelineDoms,\n    dom => (dom as HTMLElement).offsetParent\n  ) as HTMLElement;\n}\n\n/**\n * @file \n */\nclass MenuPos {\n  id?: string;\n\n  x: number;\n\n  y: number;\n}\n\n// \nexport const VERTEX_WIDTH = 180;\nexport const VERTEX_HEIGHT = 32;\n\nexport { MenuPos };\n\n// \nexport enum OperateType {\n  copy = \"copy\",\n  delete = \"delete\",\n}\n","/**\n * @file \n * @author perkinJ\n */\n\nimport * as React from \"react\";\nimport * as _ from \"lodash\";\nimport classNames from \"classnames\";\nimport { Collapse } from \"antd\";\nimport {\n  ComponentType,\n  ComponentMap,\n  COMPONENT_CATEGORY,\n  Node\n} from \"../defines\";\nimport \"./NodePanel.scss\";\n\nconst { useState, useEffect } = React;\nconst Panel = Collapse.Panel;\n\ninterface NodePanelProps {\n  visible?: boolean;\n  onDrag?: (item: Node) => void;\n}\n\nexport default function NodePanel(props: NodePanelProps) {\n  const componnetList = Object.values(ComponentType);\n  const { onDrag, visible = false } = props;\n\n  // \n  const [collapseKey, setCollapseKey] = useState<string[]>([componnetList[0]]);\n\n  const boxClass = classNames(\"nodePanel-box\", {\n    \"nodePanel-box-visible\": visible\n  });\n\n  /** Collapse */\n  const handleCollapseKey = (items: string[] | string) => {\n    setCollapseKey(items as string[]);\n  };\n\n  const handleDrag = (item: Node) => {\n    if (onDrag) {\n      onDrag(item);\n    }\n  };\n\n  return (\n    <div className=\"nodePanel\">\n      <div className={boxClass}>\n        <div className=\"nodePanel-box-collapse\">\n          <Collapse\n            activeKey={collapseKey}\n            onChange={handleCollapseKey}\n            bordered={true}\n            accordion\n          >\n            {componnetList.map(item => {\n              const total = COMPONENT_CATEGORY[item].length;\n              return (\n                <Panel\n                  key={item}\n                  header={\n                    <div className=\"collapse-title\">{`${\n                      ComponentMap[item]\n                    } (${total})`}</div>\n                  }\n                >\n                  <div className=\"components-box\">\n                    {COMPONENT_CATEGORY[item].map(child => {\n                      const boxItemClass = classNames(\"components-box-item\", {\n                        \"components-box-item-disabled no-drop\": child.disabled\n                      });\n                      return (\n                        <div\n                          className={boxItemClass}\n                          key={child.key}\n                          draggable={true}\n                          onDrag={handleDrag.bind(null, child)}\n                        >\n                          <div className=\"components-box-item-icon\">\n                            {child.icon}\n                          </div>\n                          {/* {child.name} */}\n                        </div>\n                      );\n                    })}\n                  </div>\n                </Panel>\n              );\n            })}\n          </Collapse>\n        </div>\n      </div>\n    </div>\n  );\n}\n","/**\n * @file \n * @author perkinJ\n */\n\n/**\n * \n * @param element\n */\nfunction launchFullscreen(element: any) {\n  if (element.requestFullscreen) {\n    element.requestFullscreen();\n  } else if (element.mozRequestFullScreen) {\n    element.mozRequestFullScreen();\n  } else if (element.msRequestFullscreen) {\n    element.msRequestFullscreen();\n  } else if (element.webkitRequestFullscreen) {\n    element.webkitRequestFullscreen();\n  }\n}\n/**\n * \n */\nfunction exitFullscreen() {\n  if (document.exitFullscreen) {\n    document.exitFullscreen();\n  } else if (document.exitFullscreen) {\n    document.exitFullscreen();\n  } else if ((document as any).webkitExitFullscreen) {\n    (document as any).webkitExitFullscreen();\n  }\n}\n\n/**\n * \n */\nfunction isFull() {\n  const doc = document as any;\n  return doc.fullscreenElement || doc.webkitFullscreenElement;\n}\nexport { launchFullscreen, exitFullscreen, isFull };\n","/**\n * @file \n * @author perkinJ\n */\n\nimport * as React from \"react\";\nimport { Icon, Tooltip } from \"antd\";\nimport classNames from \"classnames\";\nimport {\n  launchFullscreen,\n  exitFullscreen,\n  isFull\n} from \"../utils/FullsreenUtils\";\nimport { MIN_SCALE, MAX_SCALE } from \"../defines\";\nimport \"./Toolbar.scss\";\n\n/**  */\n\nexport type ToolbarType =\n  | \"save\"\n  | \"fullscreen\"\n  | \"zoom\"\n  | \"adapt\"\n  | \"format\"\n  | \"ratio\"\n  | \"shear\"\n  | \"copy\"\n  | \"paste\"\n  | \"delete\"\n  | \"dragSelect\"\n  | \"layout\"\n  | \"adapt\";\n\nexport class ToolbarProps {\n  /**  */\n  handleShowAll?: () => void;\n\n  /**  */\n  handleResizeTo?: (scale: number) => void;\n\n  /**  */\n  changeScreenScale?: (scale: number) => void;\n\n  /**  */\n  screenScale?: number;\n\n  onSave?: () => void;\n\n  onShear?: () => void;\n\n  onCopy?: () => void;\n\n  onPaste?: () => void;\n\n  onDelete?: () => void;\n\n  onDragSelect?: () => void;\n\n  onLayout?: () => void;\n\n  onAdapt?: () => void;\n\n  /**  */\n  // handleFullScreen?: () => void;\n  /** Toolbar */\n  items?: ToolbarType[];\n\n  /**  */\n}\n\nconst Toolbar = React.forwardRef((props: ToolbarProps, ref: any) => {\n  const {\n    screenScale,\n    changeScreenScale,\n    handleResizeTo,\n    items,\n    onShear,\n    onCopy,\n    onPaste,\n    onDelete,\n    onDragSelect,\n    onSave,\n    onLayout,\n    onAdapt\n  } = props;\n  const scale = String(Math.round(screenScale));\n\n  /**  */\n  const isSave = items.includes(\"save\");\n\n  /**  */\n\n  const isFullScreen = items.includes(\"fullscreen\");\n\n  /**  */\n  const isZoom = items.includes(\"zoom\");\n\n  /**  */\n  const isAdapt = items.includes(\"adapt\");\n\n  /**  */\n  const isFormat = items.includes(\"format\");\n\n  /**  */\n  const isShear = items.includes(\"shear\");\n  /**  */\n  const isCopy = items.includes(\"copy\");\n\n  const isPaste = items.includes(\"paste\");\n\n  const isDelete = items.includes(\"delete\");\n\n  const isDragSelect = items.includes(\"dragSelect\");\n\n  const isLayout = items.includes(\"layout\");\n\n  /**  */\n\n  const fullscreenStatus = isFull();\n\n  /**  */\n  const handleResize = (isLager?: boolean) => {\n    let value = screenScale;\n    if (isLager) {\n      value = screenScale + 10;\n      if (value > MAX_SCALE) {\n        value = MAX_SCALE;\n      }\n    } else {\n      value = screenScale - 10;\n      if (value < MIN_SCALE) {\n        value = MIN_SCALE;\n      }\n    }\n    handleResizeTo(value / 100);\n    changeScreenScale(value);\n  };\n\n  /**  */\n  const handleFullScreen = () => {\n    const isfull = isFull();\n    if (isfull) {\n      exitFullscreen();\n    } else {\n      launchFullscreen(ref.current);\n    }\n  };\n\n  // \n  const renderButtons = () => {\n    const fullScreenClassName = classNames({\n      fullscreen: !fullscreenStatus,\n      \"fullscreen-exit\": fullscreenStatus\n    });\n\n    return (\n      <>\n        {isZoom && (\n          <>\n            <div className=\"toolbar-btn\">\n              <Tooltip title=\"\">\n                <Icon type=\"zoom-in\" onClick={handleResize.bind(null, true)} />\n              </Tooltip>\n            </div>\n            <div className=\"toolbar-btn\">\n              <Tooltip title=\"\">\n                <Icon\n                  type=\"zoom-out\"\n                  onClick={handleResize.bind(null, false)}\n                />\n              </Tooltip>\n            </div>\n          </>\n        )}\n        {isSave && (\n          <div className=\"toolbar-btn\">\n            <Tooltip title=\"\">\n              <Icon type=\"save\" onClick={onSave} />\n            </Tooltip>\n          </div>\n        )}\n\n        {isFullScreen && (\n          <div className=\"toolbar-btn\">\n            <Tooltip title=\"\">\n              <Icon type={fullScreenClassName} onClick={handleFullScreen} />\n            </Tooltip>\n          </div>\n        )}\n\n        {isShear && (\n          <div className=\"toolbar-btn\">\n            <Tooltip title=\"\">\n              <Icon type=\"scissor\" onClick={onShear} />\n            </Tooltip>\n          </div>\n        )}\n\n        {isCopy && (\n          <div className=\"toolbar-btn\">\n            <Tooltip title=\"\">\n              <Icon type=\"copy\" onClick={onCopy} />\n            </Tooltip>\n          </div>\n        )}\n\n        {isPaste && (\n          <div className=\"toolbar-btn\">\n            <Tooltip title=\"\">\n              <Icon type=\"snippets\" onClick={onPaste} />\n            </Tooltip>\n          </div>\n        )}\n        {isDelete && (\n          <div className=\"toolbar-btn\">\n            <Tooltip title=\"\">\n              <Icon type=\"delete\" onClick={onDelete} />\n            </Tooltip>\n          </div>\n        )}\n\n        {isDragSelect && (\n          <div className=\"toolbar-btn\">\n            <Tooltip title=\"\">\n              <Icon type=\"gateway\" onClick={onDragSelect} />\n            </Tooltip>\n          </div>\n        )}\n\n        {isAdapt && (\n          <div className=\"toolbar-btn\">\n            <Tooltip title=\"\">\n              <Icon type=\"border-outer\" onClick={onAdapt} />\n            </Tooltip>\n          </div>\n        )}\n\n        {isLayout && (\n          <div className=\"toolbar-btn\">\n            <Tooltip title=\"\">\n              <Icon type=\"layout\" onClick={onLayout} />\n            </Tooltip>\n          </div>\n        )}\n      </>\n    );\n  };\n\n  return (\n    <div className=\"toolbar\">\n      <div className=\"toolbar-scale\">{scale}%</div>\n      <div className=\"toolbar-button\">{renderButtons()}</div>\n    </div>\n  );\n});\n\nexport default Toolbar;\n","/**\n * @file \n * @author perkinJ\n */\nimport * as React from \"react\";\nimport * as _ from \"lodash\";\nimport { CONNECTOR, StyleProps } from \"../utils/types\";\nimport \"./Edge.scss\";\n\nexport interface EdgeProps {\n  /** id */\n  id?: string;\n  /**  */\n  path?: string;\n  /** , true */\n  startArrow?: boolean | React.SVGProps<SVGForeignObjectElement>;\n  /** , true */\n  endArrow?: boolean | React.SVGProps<SVGForeignObjectElement>;\n  /** \t */\n  lineAppendWidth?: number;\n  /**  */\n  style?: StyleProps;\n  /**  */\n  object?: React.SVGProps<SVGForeignObjectElement>;\n  /**  */\n  onClick?: (event: any) => void;\n  /**  */\n  onContextMenu?: (event: any) => void;\n}\n\nexport default function Edge(props: EdgeProps) {\n  const {\n    id,\n    style,\n    onContextMenu,\n    onClick,\n    object,\n    lineAppendWidth,\n    path,\n    startArrow,\n    endArrow\n  } = props;\n  const { fill } = style;\n\n  let markerStart = \"\";\n  if (typeof startArrow === \"boolean\") {\n    if (startArrow) {\n      markerStart = \"url(#flow-startArrow)\";\n    }\n  } else if (React.isValidElement(startArrow)) {\n    markerStart = `url(#${(startArrow.props as any).id})`;\n  }\n\n  let endStart = \"\";\n  if (typeof endArrow === \"boolean\") {\n    if (startArrow) {\n      endStart = \"url(#flow-startArrow)\";\n    }\n  } else if (React.isValidElement(endArrow)) {\n    endStart = `url(#${(endArrow.props as any).id})`;\n  }\n\n  return (\n    <g key={`${id}${CONNECTOR}`} className=\"editor-link\">\n      <defs>\n        {React.isValidElement(startArrow) ? (\n          React.cloneElement(startArrow)\n        ) : (\n          <marker\n            id=\"flow-startArrow\"\n            markerWidth=\"10\"\n            markerHeight=\"10\"\n            refX=\"0\"\n            refY=\"2\"\n            orient=\"auto\"\n            markerUnits=\"strokeWidth\"\n          >\n            <path d=\"M0,0 L0,4 L4,2 z\" fill={fill} />\n          </marker>\n        )}\n      </defs>\n      <defs>\n        {React.isValidElement(endArrow) ? (\n          React.cloneElement(endArrow)\n        ) : (\n          <marker\n            id=\"flow-endArrow\"\n            markerWidth=\"10\"\n            markerHeight=\"10\"\n            refX=\"0\"\n            refY=\"2\"\n            orient=\"auto\"\n            markerUnits=\"strokeWidth\"\n          >\n            <path d=\"M0,0 L0,4 L4,2 z\" fill={fill} />\n          </marker>\n        )}\n      </defs>\n      <path\n        key={id}\n        className=\"editor-link-path\"\n        stroke={_.get(style, \"stroke\", \"\")}\n        strokeWidth={_.get(style, \"strokeWidth\", 0)}\n        d={path}\n        markerStart={markerStart}\n        markerEnd={endStart}\n      />\n      {/**  */}\n      <path\n        key={`${id}-background`}\n        className=\"editor-link-path editor-link-path-background\"\n        style={{ strokeWidth: lineAppendWidth }}\n        d={path}\n        onContextMenu={onContextMenu}\n        onClick={onClick}\n      />\n      <g>{object}</g>\n    </g>\n  );\n}\n","/**\n * @file \n * @author perkinJ\n */\n\n// \nexport const CONNECTOR = '_';\n\n// \nexport class Point {\n  x: number;\n\n  y: number;\n}\n\n// \nexport type Shape = 'rect' | 'circle' | 'ellipse' | 'poly';\n\n// \nexport type Direction = 'left' | 'right';\n\n// \nexport class ShapeProps {\n  x: number;\n\n  y: number;\n\n  width: number;\n\n  height: number;\n\n  direction: Direction;\n}\n\n// svg\nexport class StyleProps {\n  /**  */\n  fill?: string;\n\n  /**  */\n  strokeWidth?: number;\n\n  /**  */\n  stroke?: string;\n\n  /**  */\n  strokeDasharray?: string;\n}\n","/**\n * @file \n * @desc \n * @author perkinJ\n */\n\nimport * as React from \"react\";\nimport { useResize } from \"../hooks/useResize\";\nimport \"./Node.scss\";\n\nconst { useRef, useState, useEffect, useCallback } = React;\n\nclass NodeProps {\n  /** id */\n  id: string;\n\n  /**  */\n  x: number;\n\n  /**  */\n  y: number;\n\n  width: number;\n\n  height: number;\n\n  /**  */\n  onClick?: (event) => void;\n\n  /** ContextMenu */\n  onContextMenu?: (position: any, event) => void;\n\n  /**  */\n  node?: any;\n\n  /**  */\n  currTrans?: any;\n\n  /**  */\n  isSelected: boolean;\n\n  children?: React.ReactNode;\n\n  /**  */\n  onResize?: (width: number, height: number, x: number, y: number) => void;\n}\n\n/**\n * \n */\nexport function getOffset(domNode: any) {\n  let offsetTop = 0;\n  let offsetLeft = 0;\n  let targetDomNode = domNode;\n  while (targetDomNode !== window.document.body && targetDomNode != null) {\n    offsetLeft += targetDomNode.offsetLeft;\n    offsetTop += targetDomNode.offsetTop;\n    targetDomNode = targetDomNode.offsetParent;\n  }\n  return {\n    offsetTop,\n    offsetLeft\n  };\n}\n\nconst Node = React.forwardRef((props: NodeProps, ref: any) => {\n  const {\n    x,\n    y,\n    id,\n    onClick,\n    onContextMenu,\n    children,\n    currTrans,\n    width,\n    height,\n    isSelected,\n    onResize\n  } = props;\n\n  const [showSelector, setShowSelector] = useState(false);\n  const containerRef = useRef(null);\n\n  // \n  const {\n    width: resizeWidth,\n    height: resizeHeight,\n    x: resizeX,\n    y: resizeY\n  } = useResize(isSelected, {\n    width,\n    height,\n    x,\n    y\n  });\n\n  const handleContextMenu = (event: React.MouseEvent<any>) => {\n    event.preventDefault();\n    event.stopPropagation();\n    const container = containerRef.current.getBoundingClientRect();\n    container.id = id;\n    const { offsetTop, offsetLeft } = getOffset(container.current);\n\n    // The position x,y is transformed to xk + tx,yk + ty\n    const screenX = event.clientX - offsetLeft;\n    const screenY = event.clientY - offsetTop;\n\n    const newX = (screenX - x) / currTrans.k;\n    const newY = (screenY - y) / currTrans.k;\n\n    const currentPos = {\n      left: newX,\n      top: newY\n    };\n\n    if (onContextMenu) {\n      onContextMenu(currentPos, event);\n    }\n  };\n\n  const NODE_SELECTOR = [\n    {\n      position: \"left\",\n      style: { left: \"-5px\", top: `${height / 2 - 5}px` }\n    },\n    {\n      position: \"right\",\n      style: { right: \"-5px\", top: `${height / 2 - 5}px` }\n    },\n    {\n      position: \"top\",\n      style: { left: `${width / 2 - 5}px`, top: \"-5px\" }\n    },\n    {\n      position: \"bottom\",\n      style: { left: `${width / 2 - 5}px`, top: `${height - 5}px` }\n    }\n  ];\n\n  const RESIZE_SELECTOR = [\n    \"top-left\",\n    \"top-right\",\n    \"bottom-left\",\n    \"bottom-right\"\n  ];\n\n  // \n  const renderResize = (\n    <div className=\"resizable\">\n      <div className=\"resizers\">\n        {RESIZE_SELECTOR.map(item => (\n          <div key={item} className={`resizer ${item}`} data-type=\"resize\" />\n        ))}\n      </div>\n    </div>\n  );\n\n  // \n  const renderNodeSelector = (\n    <div className=\"editor-node-selector\" style={{ width, height }}>\n      {NODE_SELECTOR.map(item => {\n        return (\n          <a\n            data-type=\"edge\"\n            data-position={item.position}\n            key={item.position}\n            className={`node-selector`}\n            style={item.style}\n          />\n        );\n      })}\n    </div>\n  );\n\n  useEffect(() => {\n    onResize(resizeWidth, resizeHeight, resizeX, resizeY);\n  }, [resizeWidth, resizeHeight, resizeX, resizeY]);\n\n  return (\n    <div\n      className=\"editor-node\"\n      style={{\n        left: x,\n        top: y,\n        width,\n        height\n      }}\n      ref={ref}\n      onClick={onClick}\n      onMouseEnter={() => setShowSelector(true)}\n      onMouseLeave={() => setShowSelector(false)}\n      onContextMenu={handleContextMenu}\n    >\n      {(isSelected || showSelector) && renderNodeSelector}\n      {isSelected && renderResize}\n      {React.cloneElement(children as React.ReactElement<any>, {\n        ref: containerRef\n      })}\n    </div>\n  );\n});\n\nexport default Node;\n","import { useState, useEffect } from 'react';\n\nclass NodeInfo {\n  width: number;\n  height: number;\n  x: number;\n  y: number;\n}\n\nconst useResize = (isResize: boolean, { width, height, x, y }: NodeInfo): NodeInfo => {\n  const [nodeWidth, setNodeWidth] = useState(width);\n  const [nodeHeight, setNodeHeight] = useState(height);\n  const [nodeLeft, setNodeLeft] = useState(x);\n  const [nodeTop, setNodeTop] = useState(y);\n\n  useEffect(() => {\n    setNodeLeft(x);\n    setNodeTop(y);\n  }, [x, y]);\n\n  useEffect(() => {\n    const resizers = document.querySelectorAll('.resizer');\n    const element = document.querySelector('.resizable');\n    const minSize = 20;\n    // \n    let originWidth = 0;\n    let originHeight = 0;\n    // \n    let originX = 0;\n    let originY = 0;\n    // \n    let originMouseX = 0;\n    let originMouseY = 0;\n    if (isResize) {\n      for (let i = 0; i < resizers.length; i++) {\n        const currentResizer = resizers[i];\n        currentResizer.addEventListener('mousedown', e => {\n          e.preventDefault();\n\n          originWidth = parseFloat(\n            getComputedStyle(element, null)\n              .getPropertyValue('width')\n              .replace('px', '')\n          );\n          originHeight = parseFloat(\n            getComputedStyle(element, null)\n              .getPropertyValue('height')\n              .replace('px', '')\n          );\n          originX = element.getBoundingClientRect().left;\n          originY = element.getBoundingClientRect().top;\n          originMouseX = (e as any).pageX;\n          originMouseY = (e as any).pageY;\n\n          // type\n          window.addEventListener('mousemove', resize);\n          window.addEventListener('mouseup', stopResize);\n        });\n        const resize = e => {\n          let newWidth = 0;\n          let newHeight = 0;\n          let newLeft = 0;\n\n          if (currentResizer.classList.contains('bottom-right')) {\n            newWidth = originWidth + (e.pageX - originMouseX);\n            newHeight = originHeight + (e.pageY - originMouseY);\n            if (newWidth > minSize) {\n              setNodeWidth(newWidth);\n            }\n            if (newHeight > minSize) {\n              setNodeHeight(newHeight);\n            }\n          } else if (currentResizer.classList.contains('bottom-left')) {\n            newWidth = originWidth - (e.pageX - originMouseX);\n            newHeight = originHeight + (e.pageY - originMouseY);\n            if (newWidth > minSize) {\n              setNodeWidth(newWidth);\n              setNodeLeft(nodeLeft + (e.pageX - originMouseX));\n            }\n            if (newHeight > minSize) {\n              setNodeHeight(newHeight);\n            }\n          } else if (currentResizer.classList.contains('top-right')) {\n            newWidth = originWidth + (e.pageX - originMouseX);\n            newHeight = originHeight - (e.pageY - originMouseY);\n            if (newWidth > minSize) {\n              setNodeWidth(newWidth);\n            }\n            if (newHeight > minSize) {\n              setNodeHeight(newHeight);\n              setNodeTop(nodeTop + (e.pageY - originMouseY));\n            }\n          } else {\n            newWidth = originWidth - (e.pageX - originMouseX);\n            newHeight = originHeight - (e.pageY - originMouseY);\n            if (width > minSize) {\n              setNodeWidth(newWidth);\n              setNodeLeft(nodeLeft + (e.pageX - originMouseX));\n            }\n            if (height > minSize) {\n              setNodeHeight(newHeight);\n              setNodeTop(nodeTop + (e.pageY - originMouseY));\n            }\n          }\n        };\n\n        const stopResize = () => {\n          window.removeEventListener('mousemove', resize);\n        };\n      }\n    }\n  }, [isResize, nodeWidth, nodeHeight, setNodeHeight, setNodeWidth, nodeTop, nodeLeft, setNodeTop, setNodeLeft]);\n\n  return {\n    width: nodeWidth,\n    height: nodeHeight,\n    x: nodeLeft,\n    y: nodeTop\n  };\n};\n\nexport { useResize };\n","/**\n * @file \n * @author (perkin.pj)\n */\n\nimport * as _ from \"lodash\";\nimport { Point, Shape, ShapeProps } from \"./types\";\n/**\n * \n * @param sourcePoint\n * @param targetPoint\n */\nexport function distance(sourcePoint: Point, targetPoint: Point) {\n  const x = sourcePoint.x - targetPoint.x;\n  const y = sourcePoint.y - targetPoint.y;\n  return Math.sqrt(x * x + y * y);\n}\n\n/**\n * \n * @param sourcePoint\n * @param targetPoint\n */\nexport const quadratic = (sourcePoint: Point, targetPoint: Point): string => {\n  const ratio = detectZoom();\n  const sourceX = sourcePoint.x * ratio;\n  const targetX = targetPoint.x * ratio;\n\n  const centerX = (sourceX + targetX) / 2;\n  const centerY = (sourcePoint.y + targetPoint.y) / 2;\n  let tolerance = 30;\n\n  const sub = targetPoint.y - sourcePoint.y;\n\n  if (sub > -100 && sub < 100) {\n    tolerance = Math.max(Math.abs(targetPoint.y - sourcePoint.y) / 2, 20);\n  }\n\n  return [\n    \"M\",\n    sourceX,\n    sourcePoint.y,\n    \"Q\",\n    /**  */\n    sourceX + tolerance,\n    sourcePoint.y,\n    centerX,\n    centerY,\n    \"T\",\n    targetX - 6,\n    targetPoint.y - 2\n  ].join(\" \");\n};\n\n/**\n * \n */\nexport function detectZoom() {\n  let ratio = window.outerWidth / window.innerWidth;\n  const screen = window.screen;\n  const ua = navigator.userAgent.toLowerCase();\n\n  if (window.devicePixelRatio !== undefined) {\n    // mac retinadevicePixelRatio2macwindow.outerWidth / window.innerWidthratio\n    const isMac = /macintosh|mac os x/i.test(ua);\n\n    ratio = isMac\n      ? window.outerWidth / window.innerWidth\n      : window.devicePixelRatio;\n  } else if (ua.indexOf(\"msie\") > -1) {\n    if ((screen as any).deviceXDPI && (screen as any).logicalXDPI) {\n      ratio = (screen as any).deviceXDPI / (screen as any).logicalXDPI;\n    }\n  } else if (\n    window.outerWidth !== undefined &&\n    window.innerWidth !== undefined\n  ) {\n    ratio = window.outerWidth / window.innerWidth;\n  }\n\n  if (ratio) {\n    ratio = Math.round(ratio * 100) / 100;\n  }\n\n  return ratio;\n}\n\n/**\n * \n */\nexport function getOffset(domNode: any, parentElem = window.document.body) {\n  let offsetTop = 0;\n  let offsetLeft = 0;\n  let targetDomNode = domNode;\n  const ratio = detectZoom();\n  while (targetDomNode !== parentElem && targetDomNode != null) {\n    offsetLeft += targetDomNode.offsetLeft;\n    offsetTop += targetDomNode.offsetTop;\n    targetDomNode = targetDomNode.offsetParent;\n  }\n  return {\n    offsetTop,\n    offsetLeft\n  };\n}\n\n/**  */\nexport function getHeight(dom: HTMLElement) {\n  if (!dom) {\n    return 0;\n  }\n  const style = window.getComputedStyle(dom);\n  return (\n    dom.getBoundingClientRect().height +\n    Number(style.marginTop.match(/\\d+/g)) +\n    Number(style.marginBottom.match(/\\d+/g))\n  );\n}\n\n// \nexport function getWidth(dom: HTMLElement) {\n  if (!dom) {\n    return 0;\n  }\n  const style = window.getComputedStyle(dom);\n  return (\n    dom.getBoundingClientRect().width +\n    Number(style.marginLeft.match(/\\d+/g)) +\n    Number(style.marginRight.match(/\\d+/g))\n  );\n}\n\n/**  */\nexport function getPosition(dom: HTMLElement) {\n  if (!dom) {\n    return 0;\n  }\n  return {\n    x: dom.getBoundingClientRect().x,\n    y: dom.getBoundingClientRect().y\n  };\n}\n\nexport function calcLinkPosition(node, position) {\n  let x = node?.x + node?.width;\n  let y = node?.y + node?.height / 2;\n  if (position === \"left\") {\n    x = node?.x;\n    y = node?.y + node?.height / 2;\n  } else if (position === \"right\") {\n    x = node?.x + node?.width;\n    y = node?.y + node?.height / 2;\n  } else if (position === \"top\") {\n    x = node?.x + node?.width / 2;\n    y = node?.y;\n  } else if (position === \"bottom\") {\n    x = node?.x + node?.width / 2;\n    y = node?.y + node?.height;\n  }\n\n  return {\n    x,\n    y\n  };\n}\n\n// path\nexport function handlePathData(shape: Shape, shapeProps: ShapeProps): string {\n  const { x, y, width, height, direction } = shapeProps;\n  let pathData = \"\";\n  if (shape === \"rect\") {\n    pathData = `M${x} ${y} h ${width} v ${height} h -${width} Z`;\n    if (direction === \"right\") {\n      pathData = `M${x} ${y} h -${width} v -${height} h ${width} Z`;\n    }\n  }\n  return pathData;\n}\n","/**\n * @file \n * @author perkinJ\n */\n\nimport * as React from 'react';\n\nimport { handlePathData } from './calc';\nimport { Shape, ShapeProps } from './types';\n\nconst { useCallback, useEffect, useState, useRef } = React;\n\nconst initSelectorProps = {\n  x: 0,\n  y: 0,\n  width: 0,\n  height: 0,\n  direction: 'left',\n} as ShapeProps;\n\nexport default function useDragSelect(dragSelectContainerRef: any, shape: Shape) {\n  const [shapeProps, setShapeProps] = useState<ShapeProps>(initSelectorProps);\n\n  const [pathData, setPathData] = useState('');\n\n  // mousedownX,Y\n  const mousdownX = useRef(0);\n  const mousdownY = useRef(0);\n\n  const handleMouseMove = useCallback(\n    event => {\n      const newX = event.layerX;\n      const newY = event.layerY;\n      const newWidth = Math.abs(newX - mousdownX.current);\n      const newHeight = Math.abs(newY - mousdownY.current);\n\n      const diffX = newX - mousdownX.current;\n\n      const newShapeProps = {\n        x: mousdownX.current,\n        y: mousdownY.current,\n        width: newWidth,\n        height: newHeight,\n        direction: diffX < 0 ? 'right' : 'left',\n      } as ShapeProps;\n\n      const path = handlePathData(shape, newShapeProps);\n      setPathData(path);\n      setShapeProps(newShapeProps);\n    },\n    [setShapeProps, shape],\n  );\n\n  const handleMouseUp = useCallback(\n    event => {\n      event.stopPropagation();\n\n      // \n      setPathData('');\n\n      // \n      mousdownX.current = 0;\n      mousdownY.current = 0;\n      dragSelectContainerRef.current.removeEventListener('mousemove', handleMouseMove);\n    },\n    [dragSelectContainerRef, handleMouseMove],\n  );\n\n  const handleMouseDown = useCallback(\n    event => {\n      event.stopPropagation();\n\n      mousdownX.current = event.layerX;\n      mousdownY.current = event.layerY;\n\n      dragSelectContainerRef.current.addEventListener('mousemove', handleMouseMove);\n      dragSelectContainerRef.current.addEventListener('mouseup', handleMouseUp);\n    },\n    [dragSelectContainerRef, handleMouseMove, handleMouseUp],\n  );\n\n  useEffect(() => {\n    const drag = dragSelectContainerRef.current;\n    drag.addEventListener('mousedown', handleMouseDown);\n    return () => {\n      drag.removeEventListener('mousedown', handleMouseDown);\n    };\n  }, [dragSelectContainerRef, handleMouseDown]);\n\n  // path\n  return { shapeProps, pathData };\n}\n\nexport { ShapeProps };\n","/**\n * @file \n * @author perkinJ\n */\n\nimport * as React from \"react\";\nimport classNames from \"classnames\";\nimport * as _ from \"lodash\";\nimport useDragSelect, { ShapeProps } from \"../utils/useDragSelect\";\nimport { StyleProps } from \"../utils/types\";\nimport { getHeight, getWidth, getPosition } from \"../utils/calc\";\n\nimport \"./DragSelector.scss\";\n\nconst { useRef, useCallback, useMemo } = React;\n\nclass DragSeletorProps {\n  /**  */\n  overlayColor?: string;\n\n  /**  */\n  selectorStyle?: StyleProps;\n\n  /**  */\n  visible: boolean;\n\n  /**  */\n  onClose?: (selectProps: ShapeProps) => void;\n\n  /** DOM */\n  getPopupContainer?: () => HTMLElement;\n}\n\nexport default function DragSeletor(props: DragSeletorProps) {\n  const {\n    // width,\n    // height,\n    overlayColor,\n    selectorStyle,\n    visible,\n    onClose,\n    getPopupContainer\n  } = props;\n  const dragSelectContainerRef = useRef(null);\n\n  const { shapeProps, pathData } = useDragSelect(\n    dragSelectContainerRef,\n    \"rect\"\n  );\n\n  const handleClick = useCallback(\n    event => {\n      event.stopPropagation();\n      event.preventDefault();\n      if (onClose) {\n        onClose(shapeProps);\n      }\n    },\n    [onClose, shapeProps]\n  );\n\n  return useMemo(() => {\n    const classes = classNames(\"drag-select-container\", {\n      \"drag-select-hidden\": !visible\n    });\n\n    const popupContainer = getPopupContainer() as HTMLElement;\n    const width = getWidth(popupContainer);\n    const height = getHeight(popupContainer);\n    const position = getPosition(popupContainer) as { x: number; y: number };\n\n    return (\n      <svg\n        ref={dragSelectContainerRef}\n        className={classes}\n        width={width}\n        height={height}\n        style={{\n          background: overlayColor,\n          left: position?.x,\n          top: position?.y\n        }}\n        xmlns=\"http://www.w3.org/2000/svg\"\n        onDrag={event => {\n          event.preventDefault();\n        }}\n        onClick={handleClick}\n      >\n        <g>\n          {/**  */}\n          <path d={pathData} style={{ ...selectorStyle }} />\n        </g>\n      </svg>\n    );\n  }, [overlayColor, handleClick, selectorStyle, visible, pathData]);\n}\n\nexport { ShapeProps };\n","import * as React from 'react';\n\nimport './ContextMenu.scss';\n\nclass ContextMenuProps {\n  id?: string;\n  visible: boolean;\n  left: number;\n  top: number;\n  // onHide: () => void;\n  children: any;\n}\nconst ContextMenu: React.FC<ContextMenuProps> = (props: ContextMenuProps) => {\n  const { id, visible, left, top, children } = props;\n  return (\n    <div\n      id={id ? `context-menu-${id}` : 'context-menu'}\n      style={{ display: visible ? 'block' : 'none', left, top }}\n      className=\"contextMenu-layer\">\n      <div className=\"contextMenu\">{children}</div>\n    </div>\n  );\n};\n\nexport { ContextMenu };\n","import { MutableRefObject, useRef, useEffect, useCallback, useMemo } from 'react';\n\n// click \nconst defaultEvent = 'click';\n\ntype RefType = HTMLElement | (() => HTMLElement | null) | null;\n\nexport function useClickAway<T extends HTMLElement = HTMLDivElement>(\n  onClickAway: (event: KeyboardEvent) => void,\n  dom?: RefType,\n  eventName: string = defaultEvent,\n): MutableRefObject<T> {\n  const element = useRef<T>();\n\n  const handler = useCallback(\n    event => {\n      const targetElement = typeof dom === 'function' ? dom() : dom;\n      const el = targetElement || element.current;\n      if (!el || el.contains(event.target)) {\n        return;\n      }\n\n      onClickAway(event);\n    },\n    [element.current, onClickAway, dom],\n  );\n\n  useEffect(() => {\n    document.addEventListener(eventName, handler);\n\n    return () => {\n      document.removeEventListener(eventName, handler);\n    };\n  }, [eventName, handler]);\n\n  return element as MutableRefObject<T>;\n}","/**\n * @file Node\n * @author perkinJ\n */\n\nimport * as React from \"react\";\nimport classNames from \"classnames\";\nimport { Menu } from \"antd\";\nimport { Node as NodeContainer } from \"./components\";\nimport { ContextMenu } from \"./ContextMenu\";\nimport { Node, OperateType } from \"./defines\";\nimport { useClickAway } from \"./hooks/useClickAway\";\nimport \"./EditorNode.scss\";\n\nconst { useState, useRef, useMemo, useCallback } = React;\n\nclass EditorNodeProps {\n  /** idContextmenu */\n  id?: string;\n\n  /**  */\n  currentNode: Node;\n\n  /**  */\n  onSelect?: (currentNode: Node, key: any) => void;\n\n  /**  */\n  onContextMenu?: (event: React.MouseEvent<HTMLLIElement>) => void;\n\n  /**  */\n  isCompleted?: boolean;\n\n  /**  */\n  hasError?: boolean;\n\n  /**  */\n  isSelected?: boolean;\n\n  /**  */\n  isDragged?: boolean;\n\n  /**  */\n  onClick?: (currentNode: Node, event: any) => void;\n\n  /**  */\n  interactive?: boolean;\n\n  /**  */\n  currTrans?: any;\n\n  /**  */\n  showSelector?: boolean;\n\n  /** Noderef */\n  nodeRef: any;\n\n  /**  */\n  onResize?: (width: number, height: number, x: number, y: number) => void;\n}\n\n/**\n * \n */\nexport function getOffset(domNode: any) {\n  let offsetTop = 0;\n  let offsetLeft = 0;\n  let targetDomNode = domNode;\n  while (targetDomNode !== window.document.body && targetDomNode != null) {\n    offsetLeft += targetDomNode.offsetLeft;\n    offsetTop += targetDomNode.offsetTop;\n    targetDomNode = targetDomNode.offsetParent;\n  }\n  return {\n    offsetTop,\n    offsetLeft\n  };\n}\n\nexport function EditorNode(props: EditorNodeProps) {\n  const {\n    currentNode,\n    onSelect,\n    isSelected,\n    isDragged,\n    onClick,\n    interactive = true,\n    currTrans,\n    nodeRef,\n    onResize,\n    showSelector,\n    id\n  } = props;\n  // \n  const [menuShow, setMenuShow] = useState(false);\n  const [menuPos, setMenuPos] = useState({ left: 0, top: 0 });\n\n  useClickAway(\n    () => {\n      setMenuShow(false);\n    },\n    () => document.querySelector(\".editorNode-box-menu\"),\n    \"contextmenu\"\n  );\n\n  const menuRef = useClickAway(() => {\n    setMenuShow(false);\n  });\n\n  const editorNodeRef = useRef(null);\n\n  // const [pos, setPos] = useState(initPos);\n  // \n  let borderColor = \"\";\n  if (isSelected) {\n    borderColor = `selected ${currentNode.key}-clicked ${\n      currentNode.key\n    }-border`;\n  } else {\n    borderColor = `${currentNode.key}-border`;\n  }\n\n  // \n  const isCircle = currentNode.key === \"circle\";\n\n  // \n  const isRadius = currentNode.key === 'rectRadius';\n\n  // \n  const isDiamond = currentNode.key === 'diamond';\n\n  const borderClass = classNames(\n    \"editorNode-box\",\n    borderColor,\n    {\n      dragging: isDragged\n    },\n    { \"editorNode-circle\": isCircle },\n    { \"editorNode-rectRadius\": isRadius},\n  );\n\n  const menuList = [\n    {\n      name: \"\",\n      key: OperateType.delete,\n      disabled: false\n    }\n  ];\n\n  const onContextMenu = (\n    position: { left: number; top: number },\n    event: React.MouseEvent<any>\n  ) => {\n    event.stopPropagation();\n    event.preventDefault();\n    // \n    const newPosition = {\n      left: position.left,\n      top: position.top\n    };\n    setMenuPos(newPosition);\n    setMenuShow(true);\n    if (props.onContextMenu) {\n      props.onContextMenu(event);\n    }\n  };\n\n  /**  */\n  const handleClickMenu = ({ key }) => {\n    onSelect(currentNode, key);\n    setMenuShow(false);\n  };\n\n  /**  */\n  const handleClickNode = useCallback(\n    event => {\n      if (interactive && onClick) {\n        onClick(currentNode, event);\n      }\n    },\n    [interactive, onClick, currentNode]\n  );\n\n  return (\n    <NodeContainer\n      id={currentNode.id}\n      x={currentNode.x}\n      y={currentNode.y}\n      width={currentNode.width}\n      height={currentNode.height}\n      currTrans={currTrans}\n      ref={nodeRef}\n      isSelected={isSelected}\n      onClick={handleClickNode}\n      onResize={onResize}\n      onContextMenu={interactive ? onContextMenu : null}\n    >\n      <div className=\"editorNode\" ref={editorNodeRef}>\n        <div className={borderClass} style={ { transform: isDiamond?`rotateZ(45deg) skew(30deg,30deg)`: 'none'}}>\n          <div className=\"editorNode-box-property\">\n            <div className=\"editorNode-name\">{currentNode.name}</div>\n          </div>\n          <div className=\"editorNode-box-menu\" ref={menuRef}>\n            <ContextMenu\n              id={currentNode.id}\n              visible={menuShow}\n              left={menuPos.left}\n              top={menuPos.top}\n            >\n              <Menu\n                getPopupContainer={(triggerNode: any) => triggerNode.parentNode}\n              >\n                {menuList.map(child => {\n                  return (\n                    <Menu.Item key={child.key} onClick={handleClickMenu}>\n                      {child.name}\n                    </Menu.Item>\n                  );\n                })}\n              </Menu>\n            </ContextMenu>\n          </div>\n        </div>\n      </div>\n    </NodeContainer>\n  );\n}\n","/**\n * @file \n * @author perkinJ\n */\n\nimport * as React from \"react\";\nimport * as _ from \"lodash\";\nimport Edge from \"./components/Edge\";\nimport { quadratic, calcLinkPosition } from \"./utils/calc\";\nimport { Node, Link, ACTIVE, LINK, UNLINK } from \"./defines\";\nimport \"./EditorEdges.scss\";\n\nclass EditorEdgesProps {\n  /** id */\n  id?: string;\n\n  /**  */\n  links: Link[];\n\n  /**  */\n  nodes: Node[];\n\n  /**  */\n  selectedLinks?: string[];\n\n  /**  */\n  onSelectLink?: (\n    key: string,\n    event: React.MouseEvent<SVGPathElement, MouseEvent>\n  ) => void;\n\n  /**  */\n  onContextMenu?: (\n    key: string,\n    event: React.MouseEvent<SVGPathElement, MouseEvent>\n  ) => void;\n\n  /**  */\n  isDraggingLink?: boolean;\n\n  /**  */\n  dragLink?: {\n    /** id */\n    originId: string;\n    /**  */\n    originX: number;\n    originY: number;\n    /**  */\n    x: number;\n    y: number;\n  };\n\n  /**  */\n  interactive?: boolean;\n}\n\nexport function EditorEdges(props: EditorEdgesProps) {\n  const {\n    links,\n    nodes,\n    selectedLinks,\n    onSelectLink,\n    onContextMenu,\n    isDraggingLink,\n    dragLink,\n    interactive = true\n  } = props;\n  const edgesPath = links.map(link => {\n    const { source, target, id, sourcePos, targetPos } = link;\n    const uNode = _.find(nodes, vertex => {\n      return vertex.id === source;\n    });\n    const vNode = _.find(nodes, vertex => {\n      return vertex.id === target;\n    });\n    const { x: sourceX, y: sourceY } = calcLinkPosition(uNode, sourcePos);\n    const { x: targetX, y: targetY } = calcLinkPosition(vNode, targetPos);\n\n    // \n    const pathData = quadratic(\n      {\n        x: sourceX,\n        y: sourceY\n      },\n      {\n        x: targetX,\n        y: targetY\n      }\n    );\n\n    // \n    // const centerX = (uNode.x + NODE_WIDTH + vNode.x) / 2;\n    // const centerY = (uNode.y + NODE_HEIGHT + vNode.y) / 2;\n\n    const isActive = selectedLinks ? selectedLinks.includes(id) : false;\n    const fill = isActive ? ACTIVE : LINK;\n\n    const style = {\n      fill,\n      stroke: fill,\n      strokeWidth: 2\n    };\n\n    return (\n      <Edge\n        key={id}\n        id={id}\n        path={pathData}\n        lineAppendWidth={15}\n        style={style}\n        onContextMenu={interactive ? onContextMenu.bind(null, id) : null}\n        onClick={interactive ? onSelectLink.bind(null, id) : null}\n        endArrow={\n          <marker\n            id={`${id}-endArrow`}\n            markerWidth=\"10\"\n            markerHeight=\"10\"\n            refX=\"0\"\n            refY=\"2\"\n            orient=\"auto\"\n            markerUnits=\"strokeWidth\"\n          >\n            <path d=\"M0,0 L0,4 L4,2 z\" fill={fill} />\n          </marker>\n        }\n        // object={\n        //   (type || _.isBoolean(sendTo)) &&\n        //   !iconDisabled && (\n        //     <foreignObject\n        //       width={LINKICON_WIDTH}\n        //       height=\"60\"\n        //       x={centerX - LINKICON_WIDTH / 2}\n        //       y={centerY - LINKICON_HEIGHT / 2}\n        //     >\n        //       <div className=\"link-icon\">\n\n        //       </div>\n        //     </foreignObject>\n        //   )\n        // }\n      />\n    );\n  });\n\n  const renderDraggingLink = () => {\n    if (isDraggingLink) {\n      const { x, y, originX, originY } = dragLink;\n      const pathData = quadratic(\n        {\n          x: originX,\n          y: originY\n        },\n        {\n          x,\n          y\n        }\n      );\n\n      return (\n        <Edge\n          path={pathData}\n          endArrow={\n            <marker\n              id={`${UNLINK}-endArrow`}\n              markerWidth=\"10\"\n              markerHeight=\"10\"\n              refX=\"0\"\n              refY=\"2\"\n              orient=\"auto\"\n              markerUnits=\"strokeWidth\"\n            >\n              <path d=\"M0,0 L0,4 L4,2 z\" fill={UNLINK} />\n            </marker>\n          }\n          style={{\n            fill: UNLINK,\n            stroke: UNLINK,\n            strokeWidth: 2\n          }}\n        />\n      );\n    }\n\n    return null;\n  };\n\n  return (\n    <svg className=\"editor-view-svg\">\n      {links && edgesPath}\n      {interactive && renderDraggingLink()}\n    </svg>\n  );\n}\n","/**\n * @file \n * @author perkinJ\n */\n\nimport * as _ from 'lodash';\nimport { Node, Link } from '../defines';\nimport { distance } from './calc';\nimport { Point } from './types';\n/**\n * \n */\nexport const findUpstreamNode = (id: string, nodes: Node[], links: Link[]) => {\n  const selectedLinks = _.find(links, item => item.target === id);\n  if (selectedLinks) {\n    const upstreamComponent = _.find(nodes, item => item.id === selectedLinks.source, null);\n    return upstreamComponent;\n  }\n};\n\n/**\n * \n */\nexport const findDownstreamNode = (id: string, nodes: Node[], links: Link[]) => {\n  const selectedLinks = _.find(links, item => item.source === id);\n  if (selectedLinks) {\n    const downstreamComponent = _.find(nodes, item => item.id === selectedLinks.target, null);\n    return downstreamComponent;\n  }\n};\n\n/**  */\nexport const findAllDownstreamNodes = (id: string, nodes: Node[], links: Link[]) => {\n  const selectedLinks = _.filter(links, item => item.source === id);\n  if (Array.isArray(selectedLinks) && selectedLinks.length > 0) {\n    const downstreamComponent = selectedLinks.map(link => _.find(nodes, item => item.id === link.target));\n    return downstreamComponent;\n  }\n  return [];\n};\n\n/**  */\nexport const findAllUpstreamNodes = (id: string, nodes: Node[], links: Link[]) => {\n  const selectedLinks = _.filter(links, item => item.target === id);\n  if (selectedLinks) {\n    const upstreamComponent = _.filter(nodes, item => item.id === selectedLinks[0].source);\n    return upstreamComponent;\n  }\n  return [];\n};\n\n/**  */\nexport const findAllUptreamLinks = (id: string, links: Link[]) => {\n  const newLinks = _.filter(links, item => item.target === id);\n  return newLinks;\n};\n\n/**  */\nexport const findAllDownstreamLinks = (id: string, links: Link[]) => {\n  const newLinks = _.filter(links, item => item.source === id);\n  return newLinks;\n};\n\n/**\n * @desc \n * @param point \n * @param nodes \n * @param range \n */\nexport const findNearbyNode = (point: Point, nodes: Node[], range: number) => {\n  let targetNode: Node = null;\n  let minDis = Infinity;\n  let targetPos = '';\n\n  nodes.forEach(v => {\n    // 1. 4\n    let minDistance = Infinity;\n    ['left', 'right', 'top', 'bottom'].forEach(item => {\n      let targetX;\n      let targetY;\n      if (item === 'left') {\n        targetX = v.x;\n        targetY = v.y + v.height / 2;\n      } else if (item === 'right') {\n        targetX = v.x + v.width;\n        targetY = v.y + v.height / 2;\n      } else if (item === 'top') {\n        targetX = v.x + v.width / 2;\n        targetY = v.y;\n      } else if (item === 'bottom') {\n        targetX = v.x + v.width / 2;\n        targetY = v.y + v.height;\n      }\n\n      minDistance = distance(\n        {\n          x: point.x,\n          y: point.y\n        },\n        {\n          x: targetX,\n          y: targetY\n        }\n      );\n\n      if (minDis > minDistance) {\n        minDis = minDistance;\n        targetNode = v;\n        targetPos = item;\n      }\n    });\n  });\n\n  if (minDis <= range) {\n    return { targetNode, targetPos };\n  }\n  return null;\n};\n","/**\n * @file demo\n * @author perkinJ\n */\n\n/**\n * \n * @param element\n */\nfunction launchFullscreen(element: any) {\n  if (element.requestFullscreen) {\n    element.requestFullscreen();\n  } else if (element.mozRequestFullScreen) {\n    element.mozRequestFullScreen();\n  } else if (element.msRequestFullscreen) {\n    element.msRequestFullscreen();\n  } else if (element.webkitRequestFullscreen) {\n    element.webkitRequestFullscreen();\n  }\n}\n/**\n * \n */\nfunction exitFullscreen() {\n  if (document.exitFullscreen) {\n    document.exitFullscreen();\n  } else if (document.exitFullscreen) {\n    document.exitFullscreen();\n  } else if ((document as any).webkitExitFullscreen) {\n    (document as any).webkitExitFullscreen();\n  }\n}\n\n/**\n * \n */\nfunction isFull() {\n  const doc = document as any;\n  return doc.fullscreenElement || doc.webkitFullscreenElement;\n}\n\n/**\n * \n */\nfunction getOffset(domNode: any) {\n  let offsetTop = 0;\n  let offsetLeft = 0;\n  let targetDomNode = domNode;\n  while (targetDomNode !== window.document.body && targetDomNode != null) {\n    offsetLeft = offsetLeft + targetDomNode.offsetLeft;\n    offsetTop = offsetTop + targetDomNode.offsetTop;\n    targetDomNode = targetDomNode.offsetParent;\n  }\n  return {\n    offsetTop,\n    offsetLeft\n  };\n}\n\nexport { launchFullscreen, exitFullscreen, isFull, getOffset };\n","/**\n * @file \n */\n\nimport * as React from \"react\";\nimport * as _ from \"lodash\";\nimport * as uuid from \"uuid\";\nimport { ReScreen, BaseLayout } from \"regraph-next\";\nimport { ZoomTransform, zoomIdentity } from \"d3-zoom\";\nimport { Menu } from \"antd\";\nimport { EditorNode } from \"./EditorNode\";\nimport { EditorEdges } from \"./EditorEdges\";\nimport { ContextMenu } from \"./ContextMenu\";\nimport {\n  MenuPos,\n  CONNECTOR,\n  OperateType,\n  Link,\n  Node,\n  NODE_WIDTH,\n  NODE_HEIGHT,\n  LINK_AREA\n} from \"./defines\";\nimport {\n  findUpstreamNode,\n  findAllUpstreamNodes,\n  findDownstreamNode,\n  findAllDownstreamNodes,\n  findAllDownstreamLinks,\n  findNearbyNode\n} from \"./utils/find\";\nimport { calcLinkPosition } from \"./utils/calc\";\nimport { exitFullscreen, launchFullscreen, isFull, getOffset } from \"../utils\";\n\nclass CanvasContentProps {\n  ref: any;\n  nodes: Node[];\n  links: Link[];\n  setNodes: (nodes: Node[]) => void;\n  setLinks: (links: Link[]) => void;\n  selectedLinks: string[];\n  setSelectedLinks: (links: string[]) => void;\n  selectedNodes: string[];\n  setSelectedNodes: (links: string[]) => void;\n  /**  */\n  dragNode: Node;\n  updateNodes: (node: Node) => void;\n  updateLinks: (link: Link) => void;\n  deleteNodes: (selectedNodes: string[]) => void;\n  deleteLinks: (selectedLinks: string[]) => void;\n  copiedNodes: Node[];\n  setCopiedNodes: (nodes: Node[]) => void;\n  currTrans: ZoomTransform;\n  setCurrTrans: (transform: ZoomTransform) => void;\n  /**  */\n  isKeyPressing: boolean;\n}\n\nclass CanvasContentState {\n  /**  */\n  isDraggingNode: boolean;\n  /**  */\n  isDraggingLink: boolean;\n  /**  */\n  dragNode: Node;\n  /**  */\n  dragNodeOffset: any;\n  /**  */\n  dragLink: {\n    /** id */\n    originId: string;\n    /**  */\n    originX: number;\n    originY: number;\n    /**  */\n    x: number;\n    y: number;\n    /**  */\n  };\n  sourcePos: string;\n  /**  */\n  menuDisplay: boolean;\n  /**  */\n  menuPos: MenuPos;\n  /**  */\n  screenScale: number;\n  /**  */\n  currentHoverNode: string;\n  /**  */\n  deleteVisible: boolean;\n}\n\nexport default class CanvasContent extends React.Component<\n  CanvasContentProps,\n  CanvasContentState\n> {\n  nodesContainerRef: any;\n  container: any;\n  screenWidth: number;\n  screenHeight: number;\n\n  handleApplyTransform: (transform: ZoomTransform) => void;\n  handleResize: (isLarge: boolean) => void;\n  handleAdapt: () => void;\n  handleResizeTo: (scale: number, P0?: [number, number]) => void;\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isDraggingNode: false,\n      isDraggingLink: false,\n      dragNode: null,\n      dragLink: null,\n      dragNodeOffset: null,\n      menuDisplay: false,\n      menuPos: {\n        id: \"\",\n        x: 0,\n        y: 0\n      },\n      screenScale: 100,\n      sourcePos: \"\",\n      currentHoverNode: \"\",\n      deleteVisible: false\n    };\n    this.nodesContainerRef = React.createRef();\n    this.container = React.createRef();\n    // this.props.currTrans = zoomIdentity;\n  }\n\n  componentDidMount() {\n    this.nodesContainerRef.current.addEventListener(\n      \"mousedown\",\n      this.onNodesContainerMouseDown\n    );\n    this.container.current.addEventListener(\n      \"contextmenu\",\n      this.openContainerMenu\n    );\n    this.container.current.addEventListener(\"click\", this.onContainerMouseDown);\n  }\n\n  componentWillUnmount() {\n    this.nodesContainerRef.current.removeEventListener(\n      \"mousedown\",\n      this.onNodesContainerMouseDown\n    );\n    this.container.current.removeEventListener(\n      \"contextmenu\",\n      this.openContainerMenu\n    );\n    this.container.current.removeEventListener(\n      \"click\",\n      this.onContainerMouseDown\n    );\n  }\n\n  componentWillUpdate(\n    nextProps: CanvasContentProps,\n    nextState: CanvasContentState\n  ) {\n    if (this.state.isDraggingNode !== nextState.isDraggingNode) {\n      this.toggleDragNode(nextState.isDraggingNode);\n    }\n    if (this.state.isDraggingLink !== nextState.isDraggingLink) {\n      this.toggleDragLink(nextState.isDraggingLink);\n    }\n  }\n\n  /**  */\n  openContainerMenu = (event: any) => {\n    event.preventDefault();\n  };\n\n  toggleDragNode = (isDraggingNode: Boolean) => {\n    if (isDraggingNode) {\n      window.addEventListener(\"mousemove\", this.onDragNodeMouseMove);\n      window.addEventListener(\"mouseup\", this.onDragNodeMouseUp);\n    } else {\n      window.removeEventListener(\"mousemove\", this.onDragNodeMouseMove);\n      window.removeEventListener(\"mouseup\", this.onDragNodeMouseUp);\n    }\n  };\n\n  toggleDragLink = (isDraggingLink: Boolean) => {\n    if (isDraggingLink) {\n      window.addEventListener(\"mousemove\", this.onDragLinkMouseMove);\n      window.addEventListener(\"mouseup\", this.onDragLinkMouseUp);\n    } else {\n      window.removeEventListener(\"mousemove\", this.onDragLinkMouseMove);\n      window.removeEventListener(\"mouseup\", this.onDragLinkMouseUp);\n    }\n  };\n\n  onDragLinkMouseMove = (event: any) => {\n    event.stopPropagation();\n    event.preventDefault();\n\n    const { offsetTop, offsetLeft } = getOffset(this.container.current);\n    const screenX = event.clientX - offsetLeft;\n    const screenY = event.clientY - offsetTop;\n\n    const { k, x, y } = this.props.currTrans;\n\n    this.setState(preState => {\n      const { dragLink } = preState;\n      return {\n        dragLink: {\n          ...dragLink,\n          x: (screenX - x) / k,\n          y: (screenY - y) / k\n        }\n      };\n    });\n  };\n\n  /**  */\n  onNodesContainerMouseDown = (event: any) => {\n    event.stopPropagation();\n    const { nodes } = this.props;\n    if (nodes && nodes.length > 0) {\n      const component = _.find(nodes, c => {\n        if (c.ref && c.ref.current) {\n          return c.ref.current.contains(event.target);\n        }\n        return false;\n      });\n\n      const type = event.target.dataset && event.target.dataset.type;\n      const position = event.target.dataset && event.target.dataset.position;\n\n      if (component) {\n        if (type === \"edge\" && position) {\n          /**  */\n          this.onDragLinkMouseDown(component as any, position);\n          return;\n        } else if (type === \"resize\") {\n          return;\n        } else {\n          /** resize */\n          this.onDragNodeMouseDown(component as any, event);\n        }\n      }\n    }\n  };\n\n  /** click */\n  onContainerMouseDown = (event: any) => {\n    // event.stopPropagation();\n\n    // \n    const path = event.path;\n    const isNodeOrLink = this.hasNodeOrLink(path, \"editor-node\", \"editor-link\");\n    if (!isNodeOrLink) {\n      // \n      this.handleClearActive();\n    }\n  };\n\n  /** mousemove  */\n  onNodesContainerMouseMove = (event: any) => {\n    event.preventDefault();\n    const path = event.path;\n    const isNodeOrLink = this.hasNodeOrLink(path, \"editor-node\", \"editor-link\");\n    const { nodes } = this.props;\n\n    if (nodes && nodes.length > 0) {\n      const currentNode = _.find(nodes, c => {\n        if (c.ref && c.ref.current) {\n          return c.ref.current.contains(event.target);\n        }\n        return false;\n      }) as Node;\n\n      if (currentNode) {\n        if (isNodeOrLink) {\n          this.setState({\n            currentHoverNode: currentNode.id\n          });\n        } else {\n          this.setState({\n            currentHoverNode: \"\"\n          });\n        }\n      }\n    }\n  };\n\n  /**  */\n  onDragNodeMouseDown = (node: Node, event: any) => {\n    const { k, x, y } = this.props.currTrans;\n\n    const { offsetTop, offsetLeft } = getOffset(this.container.current);\n    const screenX = event.clientX - offsetLeft;\n    const screenY = event.clientY - offsetTop;\n\n    this.setState(preState => {\n      // \n      return {\n        isDraggingNode: true,\n        dragNode: node,\n        dragNodeOffset: {\n          x: (screenX - x) / k - node.x,\n          y: (screenY - y) / k - node.y\n        }\n      };\n    });\n  };\n\n  /**  */\n  onDragLinkMouseDown = (node: Node, position: string) => {\n    const { x, y } = calcLinkPosition(node, position);\n    this.setState({\n      isDraggingLink: true,\n      dragLink: {\n        originId: node.id,\n        originX: x,\n        originY: y,\n        x,\n        y\n      },\n      sourcePos: position\n    });\n  };\n\n  /**  */\n  onDragLinkMouseUp = (event: any) => {\n    const { setLinks, links, nodes } = this.props;\n    const { dragLink } = this.state;\n    const { offsetTop, offsetLeft } = getOffset(this.container.current);\n    const screenX = event.clientX - offsetLeft;\n    const screenY = event.clientY - offsetTop;\n\n    const { k, x, y } = this.props.currTrans;\n\n    const nearNode = findNearbyNode(\n      {\n        x: (screenX - x) / k,\n        y: (screenY - y) / k\n      },\n      nodes,\n      LINK_AREA\n    );\n\n    // \n\n    if (nearNode) {\n      const { targetNode, targetPos } = nearNode;\n      const newLink = {\n        id:\n          dragLink.originId + CONNECTOR + targetNode.id + CONNECTOR + targetPos,\n        source: dragLink.originId,\n        target: targetNode.id,\n        sourcePos: this.state.sourcePos,\n        targetPos\n      };\n      setLinks([...links, newLink]);\n    }\n\n    this.setState({\n      isDraggingLink: false,\n      dragLink: null,\n      sourcePos: \"\"\n    });\n  };\n\n  /**  */\n  onDragNodeMouseMove = (event: any) => {\n    event.preventDefault();\n    event.stopPropagation();\n\n    const { setNodes, nodes } = this.props;\n\n    const { k, x, y } = this.props.currTrans;\n\n    const { offsetTop, offsetLeft } = getOffset(this.container.current);\n    const screenX = event.clientX - offsetLeft;\n    const screenY = event.clientY - offsetTop;\n\n    // \n    // const isOver = this.checkNodeIsOverScreen(dragNode, screenX, screenY);\n\n    // if (!isOver) {\n    this.setState(preState => {\n      const { dragNode, dragNodeOffset } = preState;\n\n      const newX = (screenX - x) / k - dragNodeOffset.x;\n      const newY = (screenY - y) / k - dragNodeOffset.y;\n\n      return {\n        ...preState,\n        dragNode: {\n          ...dragNode,\n          x: newX,\n          y: newY\n        }\n      };\n    });\n\n    const { dragNodeOffset, dragNode } = this.state;\n\n    setNodes(\n      nodes.map(c => {\n        return c.id === dragNode.id\n          ? {\n              ...c,\n              x: (screenX - x) / k - dragNodeOffset.x,\n              y: (screenY - y) / k - dragNodeOffset.y\n            }\n          : c;\n      })\n    );\n  };\n\n  /**  */\n  onDragNodeMouseUp = (event: any) => {\n    event.stopPropagation();\n    // this.moveStop(true);\n    // this.moveStop(false);\n\n    this.setState(preState => {\n      const { dragNode } = preState;\n\n      return {\n        ...preState\n      };\n    });\n    this.setState({\n      isDraggingNode: false\n    });\n  };\n\n  getTransformInfo = (currTrans: ZoomTransform) => {\n    this.props.setCurrTrans(currTrans);\n  };\n\n  getScreenHandler = handleMap => {\n    this.handleApplyTransform = handleMap.handleApplyTransform;\n    this.handleResize = handleMap.handleResize;\n    this.handleResizeTo = handleMap.handleResizeTo;\n    this.handleAdapt = handleMap.handleAdapt;\n    this.screenWidth = handleMap.screenWidth;\n    this.screenHeight = handleMap.screenHeight;\n  };\n\n  onDrag(event, name: string) {}\n\n  onDrop(event: React.DragEvent<HTMLDivElement>) {\n    const { setNodes, nodes, dragNode } = this.props;\n    const { offsetTop, offsetLeft } = getOffset(this.container.current);\n    const screenX = event.clientX - offsetLeft;\n    const screenY = event.clientY - offsetTop;\n\n    const { k, x, y } = this.props.currTrans;\n\n    if (dragNode) {\n      const { key, name, type, width, height } = dragNode;\n\n      const newNode = {\n        key,\n        name,\n        type,\n        width,\n        height,\n        x: (screenX - x) / k - NODE_WIDTH / 2,\n        y: (screenY - y) / k - NODE_HEIGHT / 2,\n        id: uuid.v4(),\n        ref: React.createRef()\n      };\n\n      setNodes([...nodes, newNode]);\n    }\n  }\n\n  /**  */\n  handleClearActive = () => {\n    this.props.setSelectedLinks([]);\n    this.props.setSelectedNodes([]);\n  };\n\n  /**  */\n  hasNodeOrLink = (array: any[], node?: string, link?: string) => {\n    let isNodeOrLink = false;\n\n    for (let i = 0; i < array.length; i++) {\n      const inNode = _.includes(array[i].classList, node);\n      const inLink = _.includes(array[i].classList, link);\n\n      if (inNode || inLink) {\n        isNodeOrLink = true;\n        break;\n      }\n    }\n    return isNodeOrLink;\n  };\n\n  /**  */\n  changeScreenScale = (screenScale: number) => {\n    this.setState({\n      screenScale\n    });\n  };\n\n  /**  */\n  handleFullScreen = () => {\n    const fullScreen = isFull();\n    if (fullScreen) {\n      exitFullscreen();\n    } else {\n      launchFullscreen(this.container.current);\n    }\n  };\n\n  /**  */\n  handleShowAll = () => {\n    const { nodes } = this.props;\n\n    if (nodes && nodes.length === 0) {\n      return;\n    }\n\n    // \n    const minX = _.minBy(nodes, c => c.x).x;\n    const maxX = _.maxBy(nodes, c => c.x)?.x + _.maxBy(nodes, c => c.x)?.width;\n    const minY = _.minBy(nodes, c => c.y).y;\n    const maxY = _.maxBy(nodes, c => c.y)?.y + _.maxBy(nodes, c => c.y)?.height;\n\n    const componentWidth = maxX - minX;\n    const componentHeight = maxY - minY;\n\n    // \n    const x = this.screenWidth / 2 - (minX + maxX) / 2;\n    const y = this.screenHeight / 2 - (minY + maxY) / 2;\n    const transform = zoomIdentity.translate(x, y).scale(1);\n    // 100%\n    const scale = Math.min(\n      this.screenWidth / componentWidth,\n      this.screenHeight / componentHeight,\n      1\n    );\n    // Todo  ReScreen\n    const P0 = [this.screenWidth / 2, this.screenHeight / 2] as [\n      number,\n      number\n    ];\n    const P1 = transform.invert(P0);\n    const newTransform = zoomIdentity\n      .translate(P0[0] - P1[0] * scale, P0[1] - P1[1] * scale)\n      .scale(scale);\n    this.handleApplyTransform(newTransform);\n  };\n\n  /**  */\n  layout = () => {\n    const { nodes, links, setNodes } = this.props;\n    if (nodes && nodes.length === 0) {\n      return {\n        nodes,\n        screen: {\n          k: 1,\n          x: 0,\n          y: 0\n        }\n      };\n    }\n\n    const datas = nodes.map(component => {\n      //  BaseLayout \n      (component as any).nodeWidth = component.width;\n      (component as any).nodeHeight = component.height;\n      const downRelations = links\n        .filter(link => {\n          return link.target === component.id;\n        })\n        .map(link => {\n          return {\n            sourceId: link.source,\n            targetId: link.target\n          };\n        });\n      const upRelations = links\n        .filter(link => {\n          return link.source === component.id;\n        })\n        .map(link => {\n          return {\n            sourceId: link.source,\n            targetId: link.target\n          };\n        });\n      return {\n        id: component.id,\n        downRelations,\n        upRelations\n      };\n    });\n\n    const maxWidth = _.maxBy(nodes, item => item.width)?.width;\n    const maxHeight = _.maxBy(nodes, item => item.height)?.height;\n\n    const dag = new BaseLayout.DAG({\n      isTransverse: true,\n      padding: 20,\n      margin: {\n        left: 0,\n        right: 0,\n        top: 0,\n        bottom: 0\n      },\n      defaultNodeWidth: maxWidth,\n      defaultNodeHeight: maxHeight\n    });\n\n    const { nodes: newNodes } = dag.getMultiDAG(datas);\n\n    const layoutNodes = nodes.map(component => {\n      const node = _.find(newNodes, n => n.id === component.id);\n\n      return {\n        ...component,\n        x: node.view.x,\n        y: node.view.y\n      };\n    });\n    setNodes(layoutNodes);\n    // this.handleShowAll(layoutNodes);\n  };\n\n  /**  */\n  onSelectLink = (key: string) => {\n    const { selectedLinks, setSelectedLinks } = this.props;\n    if (selectedLinks) {\n      // \n      const index = _.findIndex(selectedLinks, link => link === key);\n      if (index > -1) {\n        setSelectedLinks([\n          ...selectedLinks.slice(0, index),\n          ...selectedLinks.slice(index + 1)\n        ]);\n      } else {\n        setSelectedLinks([...selectedLinks, key]);\n      }\n    } else {\n      setSelectedLinks([key]);\n    }\n  };\n\n  /**  */\n  onClickNode = (currentNode: Node) => {\n    const { selectedNodes, setSelectedNodes,setSelectedLinks,isKeyPressing } = this.props;\n\n    // \n    if (isKeyPressing) {\n      if (selectedNodes) {\n        // \n        const index = _.findIndex(selectedNodes, id => id === currentNode.id);\n\n        if (index > -1) {\n          setSelectedNodes([\n            ...selectedNodes.slice(0, index),\n            ...selectedNodes.slice(index + 1)\n          ]);\n        } else {\n          setSelectedNodes(_.compact([...selectedNodes, currentNode.id]));\n        }\n      } else {\n        setSelectedNodes([currentNode.id]);\n      }\n    } else {\n      setSelectedNodes([currentNode.id]);\n      // \n      setSelectedLinks(null);\n    }\n  };\n\n  /**  */\n  onSelectNode = (currentNode: Node, key: OperateType) => {\n    const { selectedNodes, deleteNodes } = this.props;\n    if (key === OperateType.delete) {\n      // \n      // \n      if (selectedNodes && selectedNodes.includes(currentNode.id)) {\n        deleteNodes(_.compact([...selectedNodes, currentNode.id]));\n      } else {\n        deleteNodes([currentNode.id]);\n      }\n    }\n  };\n\n  /**  */\n  onContextMenuLink = (\n    key: string,\n    event: React.MouseEvent<SVGPathElement, MouseEvent>\n  ) => {\n    event.preventDefault();\n    event.stopPropagation();\n    this.props.setSelectedLinks([key]);\n    // \n    this.props.setSelectedNodes(null);\n\n    const currentPos = {\n      x: event.clientX,\n      y: event.clientY\n    };\n    this.setState({\n      deleteVisible: true,\n      menuPos: currentPos\n    });\n  };\n\n  /**  */\n  onResize = (\n    node: Node,\n    width: number,\n    height: number,\n    x: number,\n    y: number\n  ) => {\n    const { updateNodes } = this.props;\n    const newNode = {\n      ...node,\n      width,\n      height,\n      x,\n      y\n    };\n    updateNodes(newNode);\n  };\n\n  renderCanvas = () => {\n    const { currentHoverNode } = this.state;\n    const { nodes, links, selectedNodes, selectedLinks } = this.props;\n    return (\n      <div className=\"editor-view\">\n        <div className=\"editor-view-content\" ref={this.nodesContainerRef}>\n          {nodes.map(child => {\n            const id = child.id;\n            const isSelected = selectedNodes\n              ? selectedNodes.includes(id)\n              : false;\n            const showSelector = isSelected || currentHoverNode === id;\n            return (\n              <EditorNode\n                nodeRef={child.ref}\n                currentNode={child}\n                key={id}\n                onClick={this.onClickNode}\n                isSelected={isSelected}\n                showSelector={showSelector}\n                onResize={this.onResize.bind(this, child)}\n                currTrans={this.props.currTrans}\n                onSelect={this.onSelectNode}\n              />\n            );\n          })}\n          <EditorEdges\n            links={links}\n            nodes={nodes}\n            selectedLinks={selectedLinks}\n            onContextMenu={this.onContextMenuLink}\n            onSelectLink={this.onSelectLink}\n            isDraggingLink={this.state.isDraggingLink}\n            dragLink={this.state.dragLink}\n          />\n        </div>\n      </div>\n    );\n  };\n\n  render() {\n    const { deleteVisible, menuPos } = this.state;\n    return (\n      <div className=\"canvas-container-content\" ref={this.container}>\n        <ReScreen\n          type=\"DOM\"\n          getScreenHandler={this.getScreenHandler}\n          needMinimap={true}\n          needRefresh={true}\n          zoomEnabled={false}\n          mapPosition=\"RT-IN\"\n          mapWidth={200}\n          mapHeight={300}\n          mapRectStyle={{\n            stroke: \"#468CFF\",\n            fill: \"transparent\",\n            strokeWidth: 1.5\n          }}\n          focusEnabled={2}\n          onScreenChange={this.getTransformInfo}\n          onDragOver={event => {\n            event.preventDefault();\n          }}\n          onDrop={this.onDrop.bind(this)}\n        >\n          {this.renderCanvas()}\n        </ReScreen>\n        {/**  */}\n        <ContextMenu\n          visible={deleteVisible}\n          // onHide={() => {\n          //   this.props.setLinks(null);\n          //   this.setState({\n          //     deleteVisible: false\n          //   });\n          // }}\n          left={menuPos.x}\n          top={menuPos.y}\n          // onClick={this.handleDeleteLinks.bind(this, selectedLinks)}\n        >\n          <Menu\n            getPopupContainer={(triggerNode: any) => triggerNode.parentNode}\n          >\n            {[\n              {\n                name: \"\",\n                key: OperateType.delete\n              }\n            ].map(child => {\n              return <Menu.Item key={child.key}>{child.name}</Menu.Item>;\n            })}\n          </Menu>\n        </ContextMenu>\n      </div>\n    );\n  }\n}\n","import * as React from \"react\";\nimport * as _ from \"lodash\";\nimport { Node, Link } from \"../defines\";\nimport { ZoomTransform, zoomIdentity } from \"d3-zoom\";\nimport { useLocalStorage } from \"./useLocalStorage\";\n\nconst { useState, useEffect } = React;\n\nexport function useEditorStore() {\n  const [editorData, setEditorData] = useState();\n  const [nodes, setNodes] = useState<Node[]>([]);\n  const [links, setLinks] = useState<Link[]>([]);\n  const [selectedLinks, setSelectedLinks] = useState<string[]>([]);\n  const [selectedNodes, setSelectedNodes] = useState<string[]>([]);\n  const [editorLocalData, setEditorLocalData] = useLocalStorage(\"editorData\", {\n    id: \"editorData-test\"\n  });\n  const [dragNode, setDragNode] = useState(null);\n\n  const [currTrans, setCurrTrans] = useState<ZoomTransform>(zoomIdentity);\n\n  const [copiedNodes, setCopiedNodes] = useState<Node[]>([]);\n\n  useEffect(() => {\n    setEditorData(editorLocalData);\n\n    const newNodes = (editorLocalData?.nodes ?? []).map(item => {\n      return {\n        ...item,\n        ref: React.createRef()\n      };\n    });\n    setNodes(newNodes);\n    setLinks(editorLocalData?.links ?? []);\n  }, [editorLocalData]);\n\n  const updateNodes = (node: Node) => {\n    const index = nodes.findIndex(item => item.id === node.id);\n\n    const newNodes = [\n      ...nodes.slice(0, index),\n      node,\n      ...nodes.slice(index + 1)\n    ];\n\n    setNodes(newNodes);\n  };\n\n  const updateLinks = (link: Link) => {\n    const index = links.findIndex(item => item.id === link.id);\n    const newLinks = [\n      ...links.slice(0, index),\n      link,\n      ...links.slice(index + 1)\n    ];\n\n    setLinks(newLinks);\n  };\n\n  const handleSaveData = async () => {\n    const newNodes = nodes ?? [];\n    newNodes.forEach(node => delete node.ref);\n    const result = await setEditorLocalData({ ...editorData as any, nodes: newNodes, links });\n    return result\n  };\n\n  return {\n    editorData,\n    setEditorData,\n    nodes,\n    setNodes,\n    links,\n    setLinks,\n    updateNodes,\n    updateLinks,\n    selectedLinks,\n    setSelectedLinks,\n    selectedNodes,\n    setSelectedNodes,\n    dragNode,\n    setDragNode,\n    copiedNodes,\n    setCopiedNodes,\n    currTrans,\n    setCurrTrans,\n    editorLocalData,\n    setEditorLocalData,\n    handleSaveData\n  };\n}\n","/** \n * \n */\n\nimport {useState} from 'react';\n\nexport function useLocalStorage(key, initialValue) {\n  // State to store our value\n  // Pass initial state function to useState so logic is only executed once\n  const [storedValue, setStoredValue] = useState(() => {\n    try {\n      const item = window.localStorage.getItem(key);\n      return item ? JSON.parse(item) : initialValue;\n    } catch (error) {\n      console.log(error);\n      return initialValue;\n    }\n  });\n\n  // Return a wrapped version of useState's setter function that ...\n  const setValue = async value => new Promise<boolean>(resolve => {\n    try {\n      // Allow value to be a function so we have same API as useState\n      const valueToStore =\n        value instanceof Function ? value(storedValue) : value;\n      // Save state\n      setStoredValue(valueToStore);\n      // Save to local storage\n      window.localStorage.setItem(key, JSON.stringify(valueToStore));\n      return resolve(true)\n    } catch (error) {\n      // A more advanced implementation would handle the error case\n      console.log(error);\n      return resolve(false);\n    }\n  });\n\n  return [storedValue, setValue];\n}","import { useReducer, useCallback } from \"react\";\n\n// Initial state that we pass into useReducer\nconst initialState = {\n  // Array of previous state values updated each time we push a new state\n  past: [],\n  // Current state value\n  present: null,\n  // Will contain \"future\" state values if we undo (so we can redo)\n  future: []\n};\n\n// Our reducer function to handle state changes based on action\nconst reducer = (state, action) => {\n  const { past, present, future } = state;\n  switch (action.type) {\n    case \"UNDO\":\n      const previous = past[past.length - 1];\n      const newPast = past.slice(0, past.length - 1);\n\n      return {\n        past: newPast,\n        present: previous,\n        future: [present, ...future]\n      };\n    case \"REDO\":\n      const next = future[0];\n      const newFuture = future.slice(1);\n\n      return {\n        past: [...past, present],\n        present: next,\n        future: newFuture\n      };\n    case \"SET\":\n      const { newPresent } = action;\n\n      if (newPresent === present) {\n        return state;\n      }\n      return {\n        past: [...past, present],\n        present: newPresent,\n        future: []\n      };\n    case \"CLEAR\":\n      const { initialPresent } = action;\n\n      return {\n        ...initialState,\n        present: initialPresent\n      };\n  }\n};\n\nconst useHistory = initialPresent => {\n  const [state, dispatch] = useReducer(reducer, {\n    ...initialState,\n    present: initialPresent\n  });\n\n  const canUndo = state.past.length !== 0;\n  const canRedo = state.future.length !== 0;\n\n  // Setup our callback functions\n  // We memoize with useCallback to prevent unecessary re-renders\n\n  const undo = useCallback(() => {\n    if (canUndo) {\n      dispatch({ type: \"UNDO\" });\n    }\n  }, [canUndo, dispatch]);\n\n  const redo = useCallback(() => {\n    if (canRedo) {\n      dispatch({ type: \"REDO\" });\n    }\n  }, [canRedo, dispatch]);\n\n  const set = useCallback(newPresent => dispatch({ type: \"SET\", newPresent }), [\n    dispatch\n  ]);\n\n  const clear = useCallback(() => dispatch({ type: \"CLEAR\", initialPresent }), [\n    dispatch\n  ]);\n\n  // If needed we could also return past and future state\n  return { state: state.present, set, undo, redo, clear, canUndo, canRedo };\n};\n\nexport { useHistory };\n","import { useEffect, useCallback, useRef, RefObject } from 'react';\n\nexport type KeyPredicate = (event: KeyboardEvent) => boolean;\nexport type keyType = KeyboardEvent['keyCode'] | KeyboardEvent['key'];\nexport type KeyFilter = keyType | Array<keyType> | ((event: KeyboardEvent) => boolean);\nexport type EventHandler = (event: KeyboardEvent) => void;\nexport type keyEvent = 'keydown' | 'keyup';\nexport type RefType = HTMLElement | (() => HTMLElement | null);\nexport type EventOption = {\n  events?: Array<keyEvent>;\n  target?: Window | RefType;\n};\n\n//  keyCode \nconst aliasKeyCodeMap: any = {\n  esc: 27,\n  tab: 9,\n  enter: 13,\n  space: 32,\n  up: 38,\n  left: 37,\n  right: 39,\n  down: 40,\n  delete: [8, 46]\n};\n\n//  key \nconst aliasKeyMap: any = {\n  esc: 'Escape',\n  tab: 'Tab',\n  enter: 'Enter',\n  space: ' ',\n  // IE11 uses key names without `Arrow` prefix for arrow keys.\n  up: ['Up', 'ArrowUp'],\n  left: ['Left', 'ArrowLeft'],\n  right: ['Right', 'ArrowRight'],\n  down: ['Down', 'ArrowDown'],\n  delete: ['Backspace', 'Delete']\n};\n\n// \nconst modifierKey: any = {\n  ctrl: (event: KeyboardEvent) => event.ctrlKey,\n  shift: (event: KeyboardEvent) => event.shiftKey,\n  alt: (event: KeyboardEvent) => event.altKey,\n  meta: (event: KeyboardEvent) => event.metaKey\n};\n\n// \nconst noop = () => {};\n\n/**\n * \n * @param [obj: any] \n * @returns String\n */\nfunction isType(obj: any) {\n  return Object.prototype.toString\n    .call(obj)\n    .replace(/^\\[object (.+)\\]$/, '$1')\n    .toLowerCase();\n}\n\n/**\n * \n * @param [event: KeyboardEvent]\n * @param [keyFilter: any] \n * @returns Boolean\n */\nfunction genFilterKey(event: any, keyFilter: any) {\n  const type = isType(keyFilter);\n  //  keyCode\n  if (type === 'number') {\n    return event.keyCode === keyFilter;\n  }\n  // \n  const genArr = keyFilter.split('.');\n  let genLen = 0;\n  for (const key of genArr) {\n    // \n    const genModifier = modifierKey[key];\n    // key \n    const aliasKey = aliasKeyMap[key];\n    // keyCode \n    const aliasKeyCode = aliasKeyCodeMap[key];\n    /**\n     * \n     * 1. \n     * 2.  key \n     * 3.  keyCode \n     * 4.  key  keyCode\n     */\n    if (\n      (genModifier && genModifier(event)) ||\n      (aliasKey && isType(aliasKey) === 'array' ? aliasKey.includes(event.key) : aliasKey === event.key) ||\n      (aliasKeyCode && isType(aliasKeyCode) === 'array'\n        ? aliasKeyCode.includes(event.keyCode)\n        : aliasKeyCode === event.keyCode) ||\n      event.key.toUpperCase() === key.toUpperCase()\n    ) {\n      genLen++;\n    }\n  }\n  return genLen === genArr.length;\n}\n\n/**\n * \n * @param [keyFilter: any] \n * @returns () => Boolean\n */\nfunction genKeyFormater(keyFilter: any): KeyPredicate {\n  const type = isType(keyFilter);\n  if (type === 'function') {\n    return keyFilter;\n  }\n  if (type === 'string' || type === 'number') {\n    return (event: KeyboardEvent) => genFilterKey(event, keyFilter);\n  }\n  if (type === 'array') {\n    return (event: KeyboardEvent) => keyFilter.some((item: any) => genFilterKey(event, item));\n  }\n  return keyFilter ? () => true : () => false;\n}\n\nconst defaultEvents: Array<keyEvent> = ['keydown'];\n\nfunction useKeyPress<T extends HTMLElement = HTMLInputElement>(\n  keyFilter: KeyFilter,\n  eventHandler: EventHandler = noop,\n  option: EventOption = {}\n): RefObject<T> {\n  const { events = defaultEvents, target } = option;\n  const element = useRef<T>();\n  const callbackRef = useRef(eventHandler);\n  callbackRef.current = eventHandler;\n\n  const callbackHandler = useCallback(\n    event => {\n      const genGuard: KeyPredicate = genKeyFormater(keyFilter);\n      if (genGuard(event)) {\n        return callbackRef.current(event);\n      }\n    },\n    [keyFilter]\n  );\n\n  useEffect(() => {\n    const targetElement = typeof target === 'function' ? target() : target;\n    const el = element.current || targetElement || window;\n    for (const eventName of events) {\n      el.addEventListener(eventName, callbackHandler);\n    }\n    return () => {\n      for (const eventName of events) {\n        el.removeEventListener(eventName, callbackHandler);\n      }\n    };\n  }, [events, callbackHandler, target]);\n\n  return element as RefObject<T>;\n}\n\nexport { useKeyPress };\n","import { MutableRefObject, useEffect, useRef } from \"react\";\n\ntype Target = HTMLElement | Window;\ntype Options = {\n  dom?: Dom;\n  capture?: boolean;\n  once?: boolean;\n  passive?: boolean;\n};\ntype Dom = Target | (() => Target) | null;\n\nfunction useEventListener<T extends Target = HTMLElement>(\n  eventName: string,\n  handler: Function,\n  options?: { capture?: boolean; once?: boolean; passive?: boolean }\n): MutableRefObject<T>;\n\nfunction useEventListener<T extends Target = HTMLElement>(\n  eventName: string,\n  handler: Function,\n  options?: { dom: Dom; capture?: boolean; once?: boolean; passive?: boolean }\n): void;\n\nfunction useEventListener<T extends Target = HTMLElement>(\n  eventName: string,\n  handler: Function,\n  options?: Options\n) {\n  const ref = useRef<T>();\n  const savedHandler = useRef<Function>();\n\n  useEffect(() => {\n    savedHandler.current = handler;\n  }, [handler]);\n\n  useEffect(() => {\n    const passedInElement =\n      options &&\n      (typeof options.dom === \"function\" ? options.dom() : options.dom);\n    let element = passedInElement ? passedInElement : ref.current || window;\n    const isSupported = element.addEventListener;\n    if (!isSupported) return;\n    const eventListener = (\n      event: Event\n    ): EventListenerOrEventListenerObject | AddEventListenerOptions =>\n      savedHandler.current && savedHandler.current(event);\n\n    element.addEventListener(eventName, eventListener, {\n      capture: options?.capture,\n      once: options?.once,\n      passive: options?.passive\n    });\n\n    return () => {\n      element.removeEventListener(eventName, eventListener, {\n        capture: options?.capture\n      });\n    };\n  }, [eventName, options, ref.current]);\n  return ref;\n}\n\nexport { useEventListener };\n","import * as React from \"react\";\nimport * as _ from \"lodash\";\nimport * as uuid from \"uuid\";\nimport { BaseLayout } from \"regraph-next\";\nimport { Toolbar, NodePanel, DragSelector } from \"./components\";\nimport CanvasContent from \"./CanvasContent\";\nimport { useEditorStore, useKeyPress, useEventListener } from \"./hooks\";\nimport { ShapeProps } from \"./utils/useDragSelect\";\nimport { pointInPoly } from \"./utils/layout\";\n\nimport \"./index.scss\";\n\nconst { useState, useRef, useEffect } = React;\n\nexport default function EditorDemo(props) {\n  const [screenScale, changeScreenScale] = useState(100);\n  const [dragSelectable, setDragSelectable] = useState(false);\n  const [keyPressing, setKeyPressing] = useState(false);\n  const {\n    nodes,\n    links,\n    setNodes,\n    setLinks,\n    selectedLinks,\n    setSelectedLinks,\n    dragNode,\n    setDragNode,\n    selectedNodes,\n    setSelectedNodes,\n    updateNodes,\n    updateLinks,\n    copiedNodes,\n    setCopiedNodes,\n    currTrans,\n    setCurrTrans,\n    handleSaveData\n  } = useEditorStore();\n\n  // \n  const screenRef = useRef(null);\n\n  //  ref\n  const canvasRef = useRef({\n    getWrappedInstance: () => Object\n  } as any);\n\n  const canvasInstance = canvasRef.current;\n\n  /**  */\n  const handleDeleteNodes = (ids: string[]) => {\n    if (!ids) {\n      return;\n    }\n    // \n\n    const newLinks = _.cloneDeep(links);\n    ids.forEach(id => {\n      // \n      _.remove(newLinks, link => link.source === id || link.target === id);\n    });\n    // \n    setLinks(newLinks);\n\n    // components\n    const cloneNodes = _.cloneDeep(nodes);\n    const newNodes = _.remove(cloneNodes, item => !ids.includes(item.id));\n\n    setNodes(newNodes);\n\n    // \n    setSelectedLinks([]);\n    setSelectedNodes([]);\n  };\n\n  /**  */\n  const handleDeleteLinks = (activeLinks: string[]) => {\n    if (!activeLinks) {\n      return;\n    }\n    const linkList = links.map(link => link.id);\n    const diffLinks = _.difference(linkList, activeLinks);\n    const newLinks = diffLinks\n      ? diffLinks.map(link => _.find(links, item => item.id === link))\n      : [];\n    setLinks(newLinks);\n  };\n\n  /**  */\n  const handleNodesCopy = (ids: string[]) => {\n    const newCopiedNodes = ids.map(id => {\n      return _.find(nodes, item => item.id === id);\n    });\n\n    setCopiedNodes(newCopiedNodes);\n  };\n\n  /**  */\n  const handleNodesPaste = () => {\n    if (copiedNodes) {\n      console.log('copiedNodes',copiedNodes)\n      const currentCopied = copiedNodes.map(node => {\n        return {\n          ...node,\n          id: uuid.v4(),\n          /**  @todo  */\n          x: node.x + node.width + 20,\n          ref: React.createRef()\n        };\n      });\n      setCopiedNodes(currentCopied);\n      setNodes([...nodes, ...currentCopied]);\n    }\n  };\n\n  // \n  const handleShear = () => {\n    if (selectedNodes) {\n      handleNodesCopy(selectedNodes);\n      handleDeleteNodes(selectedNodes);\n    }\n  };\n\n  // \n  const handleCopy = () => {\n    if (selectedNodes) {\n      handleNodesCopy(_.compact(selectedNodes));\n    }\n  };\n\n  // \n  const handlePaste = () => {\n    if (copiedNodes) {\n      handleNodesPaste();\n    }\n  };\n\n  // \n  const handleDelete = () => {\n    if (selectedNodes) {\n      handleDeleteNodes(selectedNodes);\n    }\n    if (selectedLinks) {\n      handleDeleteLinks(selectedLinks);\n    }\n  };\n\n  // \n  const handleDragSelect = () => {\n    setDragSelectable(!dragSelectable);\n  };\n\n  /** DragSelector  */\n  const onDragSelectorClose = (selectorProps: ShapeProps) => {\n    // ,\n\n    // 1. \n    // \n    const { k, x, y } = currTrans;\n\n    const points = nodes.map(node => {\n      return {\n        x: k * node.x + x + (node.width / 2) * k,\n        y: k * node.y + y + (node.height / 2) * k,\n        id: node.id\n      };\n    });\n\n    // 2. \n    let poly = [];\n    if (selectorProps.direction === \"left\") {\n      poly = [\n        { x: selectorProps.x, y: selectorProps.y },\n        { x: selectorProps.x + selectorProps.width, y: selectorProps.y },\n        {\n          x: selectorProps.x + selectorProps.width,\n          y: selectorProps.y + selectorProps.height\n        },\n        { x: selectorProps.x, y: selectorProps.y + selectorProps.height }\n      ];\n    } else {\n      poly = [\n        { x: selectorProps.x, y: selectorProps.y },\n        { x: selectorProps.x - selectorProps.width, y: selectorProps.y },\n        {\n          x: selectorProps.x - selectorProps.width,\n          y: selectorProps.y - selectorProps.height\n        },\n        { x: selectorProps.x, y: selectorProps.y - selectorProps.height }\n      ];\n    }\n\n    // 3. \n    const ids = points.map(point => {\n      if (pointInPoly(point, poly) === \"in\") {\n        return point.id;\n      }\n    });\n    setSelectedNodes(ids);\n    setDragSelectable(false);\n  };\n\n  /**  */\n  const handleSave = async () => {\n    const data = await handleSaveData();\n    if (data) {\n      alert(\"\");\n    } else {\n      alert(\"\");\n    }\n  };\n\n  useKeyPress(\n    \"delete\",\n    () => {\n      handleDelete();\n    },\n    {\n      events: [\"keydown\", \"keyup\"]\n    }\n  );\n\n  const isMac = navigator.platform.startsWith(\"Mac\");\n\n  useKeyPress(isMac ? [\"meta.x\"] : [\"ctrl.x\"], () => {\n    handleShear();\n  });\n\n  useKeyPress(isMac ? [\"meta.c\"] : [\"ctrl.c\"], () => {\n    handleCopy();\n  });\n\n  useKeyPress(isMac ? [\"meta.v\"] : [\"ctrl.v\"], () => {\n    handlePaste();\n  });\n\n  useEventListener(\"keydown\", (event:KeyboardEvent) => {\n    const SUPER_KEY_CODE = navigator.platform.startsWith('Mac') ? event.metaKey : event.ctrlKey;\n    if(SUPER_KEY_CODE) {\n      setKeyPressing(true)\n    }\n  }, canvasInstance);\n\n  useEventListener(\"keyup\", (event:KeyboardEvent) => {\n    setKeyPressing(false)\n  }, canvasInstance);\n\n  /**  */\n  const renderOperation = (\n    <div>\n      <Toolbar\n        ref={screenRef}\n        screenScale={screenScale}\n        changeScreenScale={changeScreenScale}\n        handleResizeTo={canvasInstance && canvasInstance.handleResizeTo}\n        items={[\n          \"save\",\n          \"fullscreen\",\n          \"zoom\",\n          \"adapt\",\n          \"format\",\n          \"ratio\",\n          \"shear\",\n          \"copy\",\n          \"paste\",\n          \"delete\",\n          \"dragSelect\",\n          \"layout\",\n          \"adapt\"\n        ]}\n        onCopy={handleCopy}\n        onPaste={handlePaste}\n        onDelete={handleDelete}\n        onShear={handleShear}\n        onDragSelect={handleDragSelect}\n        onSave={handleSave}\n        onLayout={canvasInstance && canvasInstance.layout}\n        onAdapt={canvasInstance && canvasInstance.handleShowAll}\n      />\n    </div>\n  );\n  /**  */\n  const renderNodePanel = (\n    <div className=\"editor-nodePanel\">\n      <NodePanel onDrag={setDragNode} />\n    </div>\n  );\n\n  /**  */\n  const renderCanvas = (\n    <div className=\"editor-canvas\">\n      <DragSelector\n        visible={dragSelectable}\n        getPopupContainer={() => document.querySelector(\".editor-canvas\")}\n        overlayColor={\"rgba(0,0,0,0.1)\"}\n        selectorStyle={{\n          fill: \"transparent\",\n          strokeWidth: 1,\n          stroke: \"#6ca0f5\",\n          strokeDasharray: \"5 5\"\n        }}\n        onClose={onDragSelectorClose}\n      />\n      <CanvasContent\n        dragNode={dragNode}\n        ref={canvasRef}\n        nodes={nodes}\n        links={links}\n        setNodes={setNodes}\n        setLinks={setLinks}\n        selectedLinks={selectedLinks}\n        setSelectedLinks={setSelectedLinks}\n        selectedNodes={selectedNodes}\n        setSelectedNodes={setSelectedNodes}\n        updateNodes={updateNodes}\n        updateLinks={updateLinks}\n        deleteNodes={handleDeleteNodes}\n        deleteLinks={handleDeleteLinks}\n        copiedNodes={copiedNodes}\n        setCopiedNodes={setCopiedNodes}\n        currTrans={currTrans}\n        setCurrTrans={setCurrTrans}\n        isKeyPressing={keyPressing}\n      />\n    </div>\n  );\n\n  /**  */\n  const renderProperty = <div className=\"editor-property\"></div>;\n\n  return (\n    <div className=\"editor-demo\" ref={screenRef}>\n      <div className=\"editor-operation\">{renderOperation}</div>\n      <div className=\"editor-container\">\n        {renderNodePanel}\n        {renderCanvas}\n        {renderProperty}\n      </div>\n    </div>\n  );\n}\n","/**\n * @file \n * @author perkinJ\n */\n\nexport class Point {\n  x: number;\n\n  y: number;\n}\n\nexport type Relation = 'on' | 'in' | 'out';\n\n/**\n * @description \n * @param {Object} p { x: X, y: Y }\n * @param {Array} poly  p\n * @return {Relation} pon,in,out\n */\n\nexport function pointInPoly(p: Point, poly: Point[]): Relation {\n  const px = p.x;\n  const py = p.y;\n  let flag = false;\n\n  for (let i = 0, l = poly.length, j = l - 1; i < l; j = i, i++) {\n    const sx = poly[i].x;\n    const sy = poly[i].y;\n    const tx = poly[j].x;\n    const ty = poly[j].y;\n\n    // \n    if ((sx === px && sy === py) || (tx === px && ty === py)) {\n      return 'on';\n    }\n\n    // \n    if ((sy < py && ty >= py) || (sy >= py && ty < py)) {\n      //  Y  X \n      const x = sx + ((py - sy) * (tx - sx)) / (ty - sy);\n\n      // \n      if (x === px) {\n        return 'on';\n      }\n\n      // \n      if (x > px) {\n        flag = !flag;\n      }\n    }\n  }\n\n  // \n  return flag ? 'in' : 'out';\n}\n","/**\n *\n * @description \n */\nexport class Node {\n  id: string;\n  radius: number;\n  size: string;\n  cateName: string;\n  fontSize: number;\n}\n\nexport class Point {\n  x: number;\n  y: number;\n}\n\n\nconst PI = Math.PI;\nconst sin = Math.sin;\nconst cos = Math.cos;\nconst atan2 = Math.atan2;\n\nexport const getArrow = (controlPoint: Point, endPoint: Point): string => {\n  const endTangent = [endPoint.x - controlPoint.x, endPoint.y - controlPoint.y];\n  const x1 = endPoint.x - endTangent[0];\n  const y1 = endPoint.y - endTangent[1];\n  const x2 = endPoint.x;\n  const y2 = endPoint.y;\n\n  const arrowLength = 10;\n  const arrowAngle = PI / 3;\n  const lineWidth = 1;\n\n  // Calculate angle\n  let angle = atan2(y2 - y1, x2 - x1);\n  // Adjust angle correctly\n  angle -= PI;\n  // Calculate offset to place arrow at edge of path\n  const offsetX = lineWidth * cos(angle);\n  const offsetY = lineWidth * sin(angle);\n\n  // Calculate coordinates for left half of arrow\n  const leftX = x2 + arrowLength * cos(angle + arrowAngle / 2);\n  const leftY = y2 + arrowLength * sin(angle + arrowAngle / 2);\n  // Calculate coordinates for right half of arrow\n  const rightX = x2 + arrowLength * cos(angle - arrowAngle / 2);\n  const rightY = y2 + arrowLength * sin(angle - arrowAngle / 2);\n\n  return `\n  M${leftX - offsetX},${leftY - offsetY}\n  ${x2 - offsetX},${y2 - offsetY}\n  ${rightX - offsetX},${rightY - offsetY}`;\n};\n\nconst d3Format = require('d3-format');\n\nconst storageUnits = ['B', 'KB', 'MB', 'GB', 'TB', 'PB', 'EB'];\n\nexport function formatUnit(num: number, type: 'compute' | 'storage' | 'money' | 'compute-core' | 'memory' | 'number' | 'gpu') {\n  if (typeof num !== 'number') {\n    num = 0;\n  }\n  const tag = num < 0 ? '-' : '';\n\n  num = Math.abs(num);\n  let { unit, numberValue }: any = type === 'compute-core' ? _formatUnit(num * 100, 'compute') : _formatUnit(num, type);\n\n  numberValue = (tag as any) + d3Format.format(',')(Number(numberValue.toFixed(2).toString()));\n\n  return {\n    unit,\n    numberValue,\n    value: numberValue + unit\n  };\n}\n\nfunction _formatUnit(num: number, type: 'compute' | 'storage' | 'money' | 'memory' | 'number' | 'gpu') {\n  switch (type) {\n    case 'memory': {\n      return {\n        numberValue: num / 60 / 60 / 24 / 1024,\n        unit: 'GBU'\n      };\n    }\n    case 'compute': {\n      const cm = num / 6000;\n      if (cm / 1440 < 1) {\n        return {\n          numberValue: cm,\n          unit: 'CM' //\n        };\n      } else if (cm / 1440000 < 1) {\n        return {\n          numberValue: cm / 1440,\n          unit: 'CU'\n        };\n      } else if (cm / 1440000 / 1000 < 1) {\n        return {\n          numberValue: cm / 1440000,\n          unit: 'KCU'\n        };\n      }\n\n      return {\n        numberValue: cm / 1440000 / 1000,\n        unit: 'MCU'\n      };\n    }\n    case 'gpu': {\n      const cm = num / 6000;\n      if (cm / 1440 < 1) {\n        return {\n          numberValue: cm,\n          unit: 'GM' //\n        };\n      } else if (cm / 1440000 < 1) {\n        return {\n          numberValue: cm / 1440,\n          unit: 'GU'\n        };\n      } else if (cm / 1440000 / 1000 < 1) {\n        return {\n          numberValue: cm / 1440000,\n          unit: 'KGU'\n        };\n      }\n\n      return {\n        numberValue: cm / 1440000 / 1000,\n        unit: 'MGU'\n      };\n    }\n    case 'storage': {\n      const index = Math.floor(Math.log2(num) / 10);\n      const numberValue = num / Math.pow(2, index * 10);\n\n      if (index < 0) {\n        return {\n          unit: storageUnits[0],\n          numberValue: 0\n        };\n      }\n\n      return {\n        unit: storageUnits[index],\n        numberValue\n      };\n    }\n    case 'money': {\n      if (num > 100000000) {\n        return {\n          unit: '',\n          numberValue: num / 100000000\n        };\n      }\n\n      if (num > 10000) {\n        return {\n          unit: '',\n          numberValue: num / 10000\n        };\n      }\n\n      return {\n        unit: '',\n        numberValue: num\n      };\n    }\n    case 'number': {\n      return {\n        unit: '',\n        numberValue: num\n      };\n    }\n  }\n}","/**\n * @description \n */\n\nimport * as React from \"react\";\nimport * as _ from \"lodash\";\nimport classNames from \"classnames\";\nimport { Node, getArrow, formatUnit } from \"./utils\";\nimport { Matrix, LinkInfo } from \"regraph-next/src/BaseLayout/Bubble\";\nimport { BaseLayout, ReScreen } from \"regraph-next\";\n\nclass BubbleProps {\n  width: number;\n  height: number;\n  margin = 0;\n  data: any;\n  /**  */\n  rowCount = 2;\n}\n\nclass BubbleState {\n  matrix: Matrix[];\n  link: LinkInfo[];\n  /**  */\n  selectedNode: Node;\n  hoverNode: Node;\n}\n\nclass Bubble extends React.Component<\n  BubbleProps,\n  BubbleState\n> {\n  static defaultProps = new BubbleProps();\n  svg: SVGSVGElement;\n\n  state = {\n    matrix: [],\n    link: [],\n    selectedNode: null,\n    hoverNode: null\n  };\n\n  // \n  handleInitData = (data: any) => {\n    if (!data) {\n      return [];\n    }\n    const newData = data.map(node => {\n      if (node.relatedCategories) {\n        return {\n          id: String(node.cateId),\n          name: node.cateName,\n          value: node.storageSize,\n          siblings: this.handleInitData(node.relatedCategories)\n        };\n      } else {\n        return {\n          id: String(node.cateId),\n          name: node.cateName,\n          value: node.storageSize\n        };\n      }\n    });\n    return newData;\n  };\n\n  generateGraph(props: BubbleProps) {\n    const { rowCount, margin, data } = props;\n\n    const width = this.props.width - margin * 2;\n    const height = this.props.height - margin * 2;\n\n    // \n    const minSize = (\n      _.minBy(data, (node: any) => {\n        return node.storageSize;\n      }) || { storageSize: Math.pow(1024, 1) }\n    ).storageSize;\n\n    const maxSize = (\n      _.maxBy(data, (node: any) => {\n        return node.storageSize;\n      }) || { storageSize: Math.pow(1024, 5) }\n    ).storageSize;\n\n    // \n    const newData = this.handleInitData(data);\n    // matrix,link\n    const { nodes, links } = new BaseLayout.Bubble({\n      data: newData,\n      width,\n      height,\n      rowCount,\n      minSize,\n      maxSize\n    }).graph();\n\n    this.setState({\n      matrix: nodes,\n      link: links\n    } as any);\n  }\n\n  componentDidMount() {\n    this.generateGraph(this.props);\n    this.restore();\n  }\n\n  componentWillReceiveProps(nextProps) {\n    const { data } = this.props;\n    if (!_.isEqual(nextProps.data, data)) {\n      this.generateGraph(nextProps);\n      this.restore();\n    }\n  }\n\n  restore = () => {\n    this.setState({\n      selectedNode: null\n    });\n  };\n\n  handleCircleClick = (selectedNode: Node) => {\n    this.setState({\n      selectedNode\n    });\n  };\n\n  resetCircleClick = () => {\n    this.setState({\n      selectedNode: null\n    });\n  };\n\n  handleNodeMouseEnter = (selectedNode: Node) => {\n    this.setState({\n      hoverNode: selectedNode\n    });\n  };\n\n  handelNodeMouseLeave = () => {\n    this.setState({\n      hoverNode: null\n    });\n  };\n\n  getNodeReleation(selectedNode: Node) {\n    if (selectedNode) {\n      const relationNodes: string[] = [selectedNode.id];\n      this.state.link.forEach((link: LinkInfo) => {\n        if (\n          link.u === selectedNode.id ||\n          (link.v === selectedNode.id && link.bothway)\n        ) {\n          if (relationNodes.indexOf(link.u) === -1) {\n            relationNodes.push(link.u);\n          }\n          if (relationNodes.indexOf(link.v) === -1) {\n            relationNodes.push(link.v);\n          }\n        }\n      });\n      return relationNodes;\n    }\n    return [];\n  }\n\n  renderText(item) {\n    const { center, node } = item;\n    const fontSize = node.radius * 0.46;\n    if (fontSize <= 9) {\n      return (\n        <g fill=\"#fff\">\n          <text\n            x={center.x}\n            y={center.y + fontSize / 2}\n            textAnchor=\"middle\"\n            fontSize={fontSize}\n          >\n            {node.cateName || \"-\"}\n          </text>\n        </g>\n      );\n    }\n    return (\n      <g fill=\"#fff\">\n        <text x={center.x} y={center.y} textAnchor=\"middle\" fontSize={fontSize}>\n          {node.name || \"-\"}\n        </text>\n        {fontSize >= 9 && (\n          <text\n            x={center.x}\n            y={center.y + fontSize}\n            textAnchor=\"middle\"\n            fontSize=\"9\"\n          >\n            {formatUnit(node.value / 100000 || 0, \"money\").value}\n          </text>\n        )}\n      </g>\n    );\n  }\n\n  render() {\n    const { margin, data, rowCount } = this.props;\n    const { matrix, link, selectedNode, hoverNode } = this.state;\n    const relationNodes: string[] = this.getNodeReleation(selectedNode);\n    const relationHoverNodes: string[] = this.getNodeReleation(hoverNode);\n    const lineCount = Math.ceil(data.length / rowCount);\n\n    const className = classNames(\"scene-center-legend\", {\n      \"scene-center-legend-selected\": selectedNode !== null\n    });\n\n    return (\n      <div className=\"bubble-container\">\n        {selectedNode && (\n          <span\n            className=\"icon-back\"\n            onClick={this.resetCircleClick.bind(this)}\n          >\n            Back\n          </span>\n        )}\n        <div className={className}>\n          <div className=\"data-storage\">\n            <span>: </span>\n            <div className=\"small\" />\n            <span></span>\n            <div className=\"middle\" />\n            <span></span>\n            <div className=\"big\" />\n            <span></span>\n          </div>\n          {selectedNode && (\n            <div className=\"data-flow\">\n              <span></span>\n              <svg className=\"flow-arrow\">\n                <path\n                  d={`M0,13 100,13 100,8 105,13 100,18 100,13`}\n                  fill=\"#6ca0f51\"\n                  stroke=\"#6ca0f51\"\n                />\n              </svg>\n            </div>\n          )}\n        </div>\n        <ReScreen\n          type={\"DOM\"}\n          height={600}\n          width={850}\n          needMinimap={false}\n          zoomEnabled={true}\n        >\n          <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            version=\"1.1\"\n            width=\"100%\"\n            height=\"100%\"\n            className=\"bubble\"\n            ref={ele => {\n              this.svg = ele;\n            }}\n          >\n            <g\n              className=\"bubble-links\"\n              transform={`translate(${margin}, ${margin})`}\n            >\n              {link\n                .filter((item: LinkInfo) => {\n                  if (selectedNode === null) {\n                    return true;\n                  }\n                  if (\n                    item.u === selectedNode.id ||\n                    (item.v === selectedNode.id && item.bothway)\n                  ) {\n                    return true;\n                  }\n                  return false;\n                })\n                .map((item, index) => {\n                  const { start, end, control, u, v } = item;\n                  const stroke =\n                    selectedNode ||\n                    (hoverNode &&\n                      (item.u === hoverNode.id ||\n                        (item.v === hoverNode.id && item.bothway)))\n                      ? \"#6ca0f5\"\n                      : \"rgba(200,200,200)\";\n\n                  const strokeWidth =\n                    selectedNode ||\n                    (hoverNode &&\n                      (item.u === hoverNode.id ||\n                        (item.v === hoverNode.id && item.bothway)))\n                      ? \"1\"\n                      : \"0.5\";\n\n                  const arrowPath = getArrow(\n                    control,\n                    selectedNode && selectedNode.id === u ? end : start\n                  );\n\n                  return (\n                    <g key={index}>\n                      <path\n                        d={`M${start.x} ${start.y}  Q${control.x} ${control.y} ${end.x} ${end.y}`}\n                        stroke={stroke}\n                        strokeWidth={strokeWidth}\n                        fill=\"none\"\n                      />\n                      {selectedNode && <path d={arrowPath} fill={stroke} />}\n                    </g>\n                  );\n                })}\n            </g>\n            <g\n              className=\"bubble-nodes\"\n              transform={`translate(${margin}, ${margin})`}\n            >\n              {matrix\n                .filter((item: Matrix) => {\n                  return (\n                    selectedNode === null ||\n                    relationNodes.indexOf(item.node.id) > -1\n                  );\n                })\n                .map((item, index) => {\n                  const { center, node, rowIndex, lineIndex } = item;\n\n                  const fill =\n                    hoverNode === null ||\n                    selectedNode !== null ||\n                    relationHoverNodes.indexOf(node.id) > -1\n                      ? \"#6ca0f5\"\n                      : \"#5084d8\";\n\n                  if (\n                    selectedNode &&\n                    hoverNode &&\n                    hoverNode.id === node.id &&\n                    selectedNode.id !== node.id\n                  ) {\n                    let placement;\n                    if (lineIndex === 0) {\n                      placement = \"right\";\n                    } else if (lineIndex === lineCount - 1) {\n                      placement = \"left\";\n                    } else if (rowIndex < rowCount / 2) {\n                      placement = \"bottom\";\n                    } else {\n                      placement = \"top\";\n                    }\n                    return (\n                      <g\n                        onClick={this.handleCircleClick.bind(this, node)}\n                        onMouseEnter={this.handleNodeMouseEnter.bind(\n                          this,\n                          node\n                        )}\n                        onMouseLeave={this.handelNodeMouseLeave}\n                        key={index}\n                      >\n                        <circle\n                          cx={center.x}\n                          cy={center.y}\n                          r={node.radius}\n                          strokeWidth=\"1\"\n                          fill={fill}\n                          key={index}\n                        />\n                        {this.renderText(item)}\n                      </g>\n                    );\n                  }\n\n                  return (\n                    <g\n                      onClick={this.handleCircleClick.bind(this, node)}\n                      onMouseEnter={this.handleNodeMouseEnter.bind(this, node)}\n                      onMouseLeave={this.handelNodeMouseLeave}\n                      key={index}\n                    >\n                      <circle\n                        cx={center.x}\n                        cy={center.y}\n                        r={node.radius}\n                        strokeWidth=\"1\"\n                        fill={fill}\n                        key={index}\n                      />\n                      {this.renderText(item)}\n                    </g>\n                  );\n                })}\n            </g>\n          </svg>\n        </ReScreen>\n      </div>\n    );\n  }\n}\n\nexport default Bubble;\n","export const data = [\n\t\t{\n\t\t\t\"cateId\":3000000000000000,\n\t\t\t\"cateName\":\"NBA\",\n\t\t\t\"relatedCategories\":[\n\t\t\t\t{\n\t\t\t\t\t\"cateId\":2000000000000000,\n\t\t\t\t\t\"cateName\":\"\",\n\t\t\t\t\t\"scanSize\":1367793868732,\n\t\t\t\t\t\"storageSize\":262062705019948658,\n\t\t\t\t\t\"tableCount\":8\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"cateId\":17000000000000000,\n\t\t\t\t\t\"cateName\":\"\",\n\t\t\t\t\t\"scanSize\":334177187491,\n\t\t\t\t\t\"storageSize\":44843718250105112,\n\t\t\t\t\t\"tableCount\":20\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"cateId\":18000000000000000,\n\t\t\t\t\t\"cateName\":\"\",\n\t\t\t\t\t\"scanSize\":1113547,\n\t\t\t\t\t\"storageSize\":42806552768124205,\n\t\t\t\t\t\"tableCount\":8\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"cateId\":15000000000000000,\n\t\t\t\t\t\"cateName\":\"\",\n\t\t\t\t\t\"scanSize\":57567969330988,\n\t\t\t\t\t\"storageSize\":291498960564543535,\n\t\t\t\t\t\"tableCount\":43\n\t\t\t\t}\n\t\t\t],\n\t\t\t\"storageSize\":963439859462373\n\t\t},\n\t\t{\n\t\t\t\"cateId\":7000000000000000,\n\t\t\t\"cateName\":\"\",\n\t\t\t\"storageSize\":57509154527\n\t\t},\n\t\t{\n\t\t\t\"cateId\":6000000000000000,\n\t\t\t\"cateName\":\"\",\n\t\t\t\"relatedCategories\":[\n\t\t\t\t{\n\t\t\t\t\t\"cateId\":16000000000000000,\n\t\t\t\t\t\"cateName\":\"\",\n\t\t\t\t\t\"scanSize\":1482101627,\n\t\t\t\t\t\"storageSize\":15393732145821028,\n\t\t\t\t\t\"tableCount\":2\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"cateId\":17000000000000000,\n\t\t\t\t\t\"cateName\":\"\",\n\t\t\t\t\t\"scanSize\":4717819052,\n\t\t\t\t\t\"storageSize\":44843718250105112,\n\t\t\t\t\t\"tableCount\":2\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"cateId\":9000000000000000,\n\t\t\t\t\t\"cateName\":\"\",\n\t\t\t\t\t\"scanSize\":13587084553,\n\t\t\t\t\t\"storageSize\":563046541624162,\n\t\t\t\t\t\"tableCount\":9\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"cateId\":18000000000000000,\n\t\t\t\t\t\"cateName\":\"\",\n\t\t\t\t\t\"scanSize\":4717819052,\n\t\t\t\t\t\"storageSize\":42806552768124205,\n\t\t\t\t\t\"tableCount\":2\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"cateId\":15000000000000000,\n\t\t\t\t\t\"cateName\":\"\",\n\t\t\t\t\t\"scanSize\":1540768110284,\n\t\t\t\t\t\"storageSize\":291498960564543535,\n\t\t\t\t\t\"tableCount\":13\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"cateId\":2000000000000000,\n\t\t\t\t\t\"cateName\":\"\",\n\t\t\t\t\t\"scanSize\":89173468354,\n\t\t\t\t\t\"storageSize\":262062705019948658,\n\t\t\t\t\t\"tableCount\":10\n\t\t\t\t}\n\t\t\t],\n\t\t\t\"storageSize\":542349280162432\n\t\t},\n\t\t{\n\t\t\t\"cateId\":14000000000000000,\n\t\t\t\"cateName\":\"76\",\n\t\t\t\"relatedCategories\":[\n\t\t\t\t{\n\t\t\t\t\t\"cateId\":17000000000000000,\n\t\t\t\t\t\"cateName\":\"\",\n\t\t\t\t\t\"scanSize\":2362166,\n\t\t\t\t\t\"storageSize\":44843718250105112,\n\t\t\t\t\t\"tableCount\":2\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"cateId\":18000000000000000,\n\t\t\t\t\t\"cateName\":\"\",\n\t\t\t\t\t\"scanSize\":2362166,\n\t\t\t\t\t\"storageSize\":42806552768124205,\n\t\t\t\t\t\"tableCount\":2\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"cateId\":15000000000000000,\n\t\t\t\t\t\"cateName\":\"\",\n\t\t\t\t\t\"scanSize\":6387408179,\n\t\t\t\t\t\"storageSize\":291498960564543535,\n\t\t\t\t\t\"tableCount\":18\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"cateId\":2000000000000000,\n\t\t\t\t\t\"cateName\":\"\",\n\t\t\t\t\t\"scanSize\":1094723594,\n\t\t\t\t\t\"storageSize\":262062705019948658,\n\t\t\t\t\t\"tableCount\":10\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"cateId\":16000000000000000,\n\t\t\t\t\t\"cateName\":\"\",\n\t\t\t\t\t\"scanSize\":505612912,\n\t\t\t\t\t\"storageSize\":15393732145821028,\n\t\t\t\t\t\"tableCount\":3\n\t\t\t\t}\n\t\t\t],\n\t\t\t\"storageSize\":914233051820\n\t\t},\n\t\t{\n\t\t\t\"cateId\":5000000000000000,\n\t\t\t\"cateName\":\"\",\n\t\t\t\"relatedCategories\":[\n\t\t\t\t{\n\t\t\t\t\t\"cateId\":17000000000000000,\n\t\t\t\t\t\"cateName\":\"\",\n\t\t\t\t\t\"scanSize\":118229440,\n\t\t\t\t\t\"storageSize\":44843718250105112,\n\t\t\t\t\t\"tableCount\":1\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"cateId\":15000000000000000,\n\t\t\t\t\t\"cateName\":\"\",\n\t\t\t\t\t\"scanSize\":26385333209,\n\t\t\t\t\t\"storageSize\":291498960564543535,\n\t\t\t\t\t\"tableCount\":25\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"cateId\":2000000000000000,\n\t\t\t\t\t\"cateName\":\"\",\n\t\t\t\t\t\"scanSize\":1105572145,\n\t\t\t\t\t\"storageSize\":262062705019948658,\n\t\t\t\t\t\"tableCount\":9\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"cateId\":6000000000000000,\n\t\t\t\t\t\"cateName\":\"\",\n\t\t\t\t\t\"scanSize\":7823517570,\n\t\t\t\t\t\"storageSize\":542349280162432,\n\t\t\t\t\t\"tableCount\":1\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"cateId\":9000000000000000,\n\t\t\t\t\t\"cateName\":\"\",\n\t\t\t\t\t\"scanSize\":11876065690,\n\t\t\t\t\t\"storageSize\":563046541624162,\n\t\t\t\t\t\"tableCount\":3\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"cateId\":18000000000000000,\n\t\t\t\t\t\"cateName\":\"\",\n\t\t\t\t\t\"scanSize\":118229440,\n\t\t\t\t\t\"storageSize\":42806552768124205,\n\t\t\t\t\t\"tableCount\":1\n\t\t\t\t}\n\t\t\t],\n\t\t\t\"storageSize\":92738183291899\n\t\t},\n\t\t{\n\t\t\t\"cateId\":12000000000000000,\n\t\t\t\"cateName\":\"\",\n\t\t\t\"relatedCategories\":[\n\t\t\t\t{\n\t\t\t\t\t\"cateId\":2000000000000000,\n\t\t\t\t\t\"cateName\":\"\",\n\t\t\t\t\t\"scanSize\":232681298881,\n\t\t\t\t\t\"storageSize\":262062705019948658,\n\t\t\t\t\t\"tableCount\":3\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"cateId\":17000000000000000,\n\t\t\t\t\t\"cateName\":\"\",\n\t\t\t\t\t\"scanSize\":1056652293440,\n\t\t\t\t\t\"storageSize\":44843718250105112,\n\t\t\t\t\t\"tableCount\":2\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"cateId\":18000000000000000,\n\t\t\t\t\t\"cateName\":\"\",\n\t\t\t\t\t\"scanSize\":1056652293440,\n\t\t\t\t\t\"storageSize\":42806552768124205,\n\t\t\t\t\t\"tableCount\":2\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"cateId\":15000000000000000,\n\t\t\t\t\t\"cateName\":\"\",\n\t\t\t\t\t\"scanSize\":621126159614,\n\t\t\t\t\t\"storageSize\":291498960564543535,\n\t\t\t\t\t\"tableCount\":38\n\t\t\t\t}\n\t\t\t],\n\t\t\t\"storageSize\":179425182443045\n\t\t},\n\t\t{\n\t\t\t\"cateId\":18000000000000000,\n\t\t\t\"cateName\":\"\",\n\t\t\t\"relatedCategories\":[\n\t\t\t\t{\n\t\t\t\t\t\"cateId\":16000000000000000,\n\t\t\t\t\t\"cateName\":\"\",\n\t\t\t\t\t\"scanSize\":34359550601322,\n\t\t\t\t\t\"storageSize\":15393732145821028,\n\t\t\t\t\t\"tableCount\":81\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"cateId\":2000000000000000,\n\t\t\t\t\t\"cateName\":\"\",\n\t\t\t\t\t\"scanSize\":8346561954581,\n\t\t\t\t\t\"storageSize\":262062705019948658,\n\t\t\t\t\t\"tableCount\":151\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"cateId\":11000000000000000,\n\t\t\t\t\t\"cateName\":\"\",\n\t\t\t\t\t\"scanSize\":1035415450063,\n\t\t\t\t\t\"storageSize\":218520252120241,\n\t\t\t\t\t\"tableCount\":17\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"cateId\":1000000000000000,\n\t\t\t\t\t\"cateName\":\"\",\n\t\t\t\t\t\"scanSize\":46513653046,\n\t\t\t\t\t\"storageSize\":14587935167081,\n\t\t\t\t\t\"tableCount\":4\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"cateId\":9000000000000000,\n\t\t\t\t\t\"cateName\":\"\",\n\t\t\t\t\t\"scanSize\":128225774671874,\n\t\t\t\t\t\"storageSize\":563046541624162,\n\t\t\t\t\t\"tableCount\":29\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"cateId\":13000000000000000,\n\t\t\t\t\t\"cateName\":\"\",\n\t\t\t\t\t\"scanSize\":295388,\n\t\t\t\t\t\"storageSize\":22138368,\n\t\t\t\t\t\"tableCount\":1\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"cateId\":14000000000000000,\n\t\t\t\t\t\"cateName\":\"76\",\n\t\t\t\t\t\"scanSize\":7606128,\n\t\t\t\t\t\"storageSize\":914233051820,\n\t\t\t\t\t\"tableCount\":10\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"cateId\":12000000000000000,\n\t\t\t\t\t\"cateName\":\"\",\n\t\t\t\t\t\"scanSize\":8429017620715,\n\t\t\t\t\t\"storageSize\":179425182443045,\n\t\t\t\t\t\"tableCount\":15\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"cateId\":6000000000000000,\n\t\t\t\t\t\"cateName\":\"\",\n\t\t\t\t\t\"scanSize\":3686242556252,\n\t\t\t\t\t\"storageSize\":542349280162432,\n\t\t\t\t\t\"tableCount\":2\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"cateId\":17000000000000000,\n\t\t\t\t\t\"cateName\":\"\",\n\t\t\t\t\t\"scanSize\":415532088655766,\n\t\t\t\t\t\"storageSize\":44843718250105112,\n\t\t\t\t\t\"tableCount\":1441\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"cateId\":10000000000000000,\n\t\t\t\t\t\"cateName\":\"\",\n\t\t\t\t\t\"scanSize\":107712128625,\n\t\t\t\t\t\"storageSize\":81672943809615,\n\t\t\t\t\t\"tableCount\":14\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"cateId\":5000000000000000,\n\t\t\t\t\t\"cateName\":\"\",\n\t\t\t\t\t\"scanSize\":7497807766539,\n\t\t\t\t\t\"storageSize\":92738183291899,\n\t\t\t\t\t\"tableCount\":7\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"cateId\":15000000000000000,\n\t\t\t\t\t\"cateName\":\"\",\n\t\t\t\t\t\"scanSize\":2427273702462116,\n\t\t\t\t\t\"storageSize\":291498960564543535,\n\t\t\t\t\t\"tableCount\":659\n\t\t\t\t}\n\t\t\t],\n\t\t\t\"storageSize\":42806552768124205\n\t\t},\n\t\t{\n\t\t\t\"cateId\":10000000000000000,\n\t\t\t\"cateName\":\"\",\n\t\t\t\"relatedCategories\":[\n\t\t\t\t{\n\t\t\t\t\t\"cateId\":17000000000000000,\n\t\t\t\t\t\"cateName\":\"\",\n\t\t\t\t\t\"scanSize\":109464267,\n\t\t\t\t\t\"storageSize\":44843718250105112,\n\t\t\t\t\t\"tableCount\":13\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"cateId\":5000000000000000,\n\t\t\t\t\t\"cateName\":\"\",\n\t\t\t\t\t\"scanSize\":0,\n\t\t\t\t\t\"storageSize\":92738183291899,\n\t\t\t\t\t\"tableCount\":1\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"cateId\":15000000000000000,\n\t\t\t\t\t\"cateName\":\"\",\n\t\t\t\t\t\"scanSize\":34673653492,\n\t\t\t\t\t\"storageSize\":291498960564543535,\n\t\t\t\t\t\"tableCount\":33\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"cateId\":11000000000000000,\n\t\t\t\t\t\"cateName\":\"\",\n\t\t\t\t\t\"scanSize\":110377705,\n\t\t\t\t\t\"storageSize\":218520252120241,\n\t\t\t\t\t\"tableCount\":7\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"cateId\":16000000000000000,\n\t\t\t\t\t\"cateName\":\"\",\n\t\t\t\t\t\"scanSize\":5609745680,\n\t\t\t\t\t\"storageSize\":15393732145821028,\n\t\t\t\t\t\"tableCount\":7\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"cateId\":1000000000000000,\n\t\t\t\t\t\"cateName\":\"\",\n\t\t\t\t\t\"scanSize\":502981937,\n\t\t\t\t\t\"storageSize\":14587935167081,\n\t\t\t\t\t\"tableCount\":1\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"cateId\":18000000000000000,\n\t\t\t\t\t\"cateName\":\"\",\n\t\t\t\t\t\"scanSize\":29759060,\n\t\t\t\t\t\"storageSize\":42806552768124205,\n\t\t\t\t\t\"tableCount\":9\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"cateId\":9000000000000000,\n\t\t\t\t\t\"cateName\":\"\",\n\t\t\t\t\t\"scanSize\":5770880,\n\t\t\t\t\t\"storageSize\":563046541624162,\n\t\t\t\t\t\"tableCount\":4\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"cateId\":2000000000000000,\n\t\t\t\t\t\"cateName\":\"\",\n\t\t\t\t\t\"scanSize\":2211635311502,\n\t\t\t\t\t\"storageSize\":262062705019948658,\n\t\t\t\t\t\"tableCount\":34\n\t\t\t\t}\n\t\t\t],\n\t\t\t\"storageSize\":81672943809615\n\t\t},\n\t\t{\n\t\t\t\"cateId\":11000000000000000,\n\t\t\t\"cateName\":\"\",\n\t\t\t\"relatedCategories\":[\n\t\t\t\t{\n\t\t\t\t\t\"cateId\":18000000000000000,\n\t\t\t\t\t\"cateName\":\"\",\n\t\t\t\t\t\"scanSize\":24877244832,\n\t\t\t\t\t\"storageSize\":42806552768124205,\n\t\t\t\t\t\"tableCount\":2\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"cateId\":2000000000000000,\n\t\t\t\t\t\"cateName\":\"\",\n\t\t\t\t\t\"scanSize\":0,\n\t\t\t\t\t\"storageSize\":262062705019948658,\n\t\t\t\t\t\"tableCount\":2\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"cateId\":15000000000000000,\n\t\t\t\t\t\"cateName\":\"\",\n\t\t\t\t\t\"scanSize\":11670249,\n\t\t\t\t\t\"storageSize\":291498960564543535,\n\t\t\t\t\t\"tableCount\":287\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"cateId\":17000000000000000,\n\t\t\t\t\t\"cateName\":\"\",\n\t\t\t\t\t\"scanSize\":75030846462,\n\t\t\t\t\t\"storageSize\":44843718250105112,\n\t\t\t\t\t\"tableCount\":234\n\t\t\t\t}\n\t\t\t],\n\t\t\t\"storageSize\":218520252120241\n\t\t},\n\t\t{\n\t\t\t\"cateId\":13000000000000000,\n\t\t\t\"cateName\":\"\",\n\t\t\t\"relatedCategories\":[\n\t\t\t\t{\n\t\t\t\t\t\"cateId\":15000000000000000,\n\t\t\t\t\t\"cateName\":\"\",\n\t\t\t\t\t\"scanSize\":519208,\n\t\t\t\t\t\"storageSize\":291498960564543535,\n\t\t\t\t\t\"tableCount\":17\n\t\t\t\t}\n\t\t\t],\n\t\t\t\"storageSize\":22138368\n\t\t},\n\t\t{\n\t\t\t\"cateId\":9000000000000000,\n\t\t\t\"cateName\":\"\",\n\t\t\t\"relatedCategories\":[\n\t\t\t\t{\n\t\t\t\t\t\"cateId\":2000000000000000,\n\t\t\t\t\t\"cateName\":\"\",\n\t\t\t\t\t\"scanSize\":317144818,\n\t\t\t\t\t\"storageSize\":262062705019948658,\n\t\t\t\t\t\"tableCount\":15\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"cateId\":16000000000000000,\n\t\t\t\t\t\"cateName\":\"\",\n\t\t\t\t\t\"scanSize\":115673379088,\n\t\t\t\t\t\"storageSize\":15393732145821028,\n\t\t\t\t\t\"tableCount\":9\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"cateId\":6000000000000000,\n\t\t\t\t\t\"cateName\":\"\",\n\t\t\t\t\t\"scanSize\":24512856331,\n\t\t\t\t\t\"storageSize\":542349280162432,\n\t\t\t\t\t\"tableCount\":12\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"cateId\":12000000000000000,\n\t\t\t\t\t\"cateName\":\"\",\n\t\t\t\t\t\"scanSize\":2536,\n\t\t\t\t\t\"storageSize\":179425182443045,\n\t\t\t\t\t\"tableCount\":1\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"cateId\":18000000000000000,\n\t\t\t\t\t\"cateName\":\"\",\n\t\t\t\t\t\"scanSize\":32951642269,\n\t\t\t\t\t\"storageSize\":42806552768124205,\n\t\t\t\t\t\"tableCount\":11\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"cateId\":14000000000000000,\n\t\t\t\t\t\"cateName\":\"76\",\n\t\t\t\t\t\"scanSize\":1789246856,\n\t\t\t\t\t\"storageSize\":914233051820,\n\t\t\t\t\t\"tableCount\":1\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"cateId\":15000000000000000,\n\t\t\t\t\t\"cateName\":\"\",\n\t\t\t\t\t\"scanSize\":109232109209,\n\t\t\t\t\t\"storageSize\":291498960564543535,\n\t\t\t\t\t\"tableCount\":35\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"cateId\":17000000000000000,\n\t\t\t\t\t\"cateName\":\"\",\n\t\t\t\t\t\"scanSize\":32951642269,\n\t\t\t\t\t\"storageSize\":44843718250105112,\n\t\t\t\t\t\"tableCount\":11\n\t\t\t\t}\n\t\t\t],\n\t\t\t\"storageSize\":563046541624162\n\t\t},\n\t\t{\n\t\t\t\"cateId\":2000000000000000,\n\t\t\t\"cateName\":\"\",\n\t\t\t\"relatedCategories\":[\n\t\t\t\t{\n\t\t\t\t\t\"cateId\":9000000000000000,\n\t\t\t\t\t\"cateName\":\"\",\n\t\t\t\t\t\"scanSize\":311569654632459,\n\t\t\t\t\t\"storageSize\":563046541624162,\n\t\t\t\t\t\"tableCount\":133\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"cateId\":18000000000000000,\n\t\t\t\t\t\"cateName\":\"\",\n\t\t\t\t\t\"scanSize\":1370185051284239,\n\t\t\t\t\t\"storageSize\":42806552768124205,\n\t\t\t\t\t\"tableCount\":193\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"cateId\":12000000000000000,\n\t\t\t\t\t\"cateName\":\"\",\n\t\t\t\t\t\"scanSize\":27678572995933,\n\t\t\t\t\t\"storageSize\":179425182443045,\n\t\t\t\t\t\"tableCount\":44\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"cateId\":1000000000000000,\n\t\t\t\t\t\"cateName\":\"\",\n\t\t\t\t\t\"scanSize\":2337747213818,\n\t\t\t\t\t\"storageSize\":14587935167081,\n\t\t\t\t\t\"tableCount\":31\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"cateId\":16000000000000000,\n\t\t\t\t\t\"cateName\":\"\",\n\t\t\t\t\t\"scanSize\":596060064812479,\n\t\t\t\t\t\"storageSize\":15393732145821028,\n\t\t\t\t\t\"tableCount\":100\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"cateId\":8000000000000000,\n\t\t\t\t\t\"cateName\":\"\",\n\t\t\t\t\t\"scanSize\":23006,\n\t\t\t\t\t\"storageSize\":9178016,\n\t\t\t\t\t\"tableCount\":2\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"cateId\":11000000000000000,\n\t\t\t\t\t\"cateName\":\"\",\n\t\t\t\t\t\"scanSize\":12009965668073,\n\t\t\t\t\t\"storageSize\":218520252120241,\n\t\t\t\t\t\"tableCount\":26\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"cateId\":15000000000000000,\n\t\t\t\t\t\"cateName\":\"\",\n\t\t\t\t\t\"scanSize\":10668897898273485,\n\t\t\t\t\t\"storageSize\":291498960564543535,\n\t\t\t\t\t\"tableCount\":898\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"cateId\":3000000000000000,\n\t\t\t\t\t\"cateName\":\"\",\n\t\t\t\t\t\"scanSize\":90369529768,\n\t\t\t\t\t\"storageSize\":963439859462373,\n\t\t\t\t\t\"tableCount\":61\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"cateId\":6000000000000000,\n\t\t\t\t\t\"cateName\":\"\",\n\t\t\t\t\t\"scanSize\":30599473746321,\n\t\t\t\t\t\"storageSize\":542349280162432,\n\t\t\t\t\t\"tableCount\":41\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"cateId\":14000000000000000,\n\t\t\t\t\t\"cateName\":\"76\",\n\t\t\t\t\t\"scanSize\":28574513987,\n\t\t\t\t\t\"storageSize\":914233051820,\n\t\t\t\t\t\"tableCount\":16\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"cateId\":17000000000000000,\n\t\t\t\t\t\"cateName\":\"\",\n\t\t\t\t\t\"scanSize\":1472566402582160,\n\t\t\t\t\t\"storageSize\":44843718250105112,\n\t\t\t\t\t\"tableCount\":278\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"cateId\":10000000000000000,\n\t\t\t\t\t\"cateName\":\"\",\n\t\t\t\t\t\"scanSize\":74574273525848,\n\t\t\t\t\t\"storageSize\":81672943809615,\n\t\t\t\t\t\"tableCount\":57\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"cateId\":5000000000000000,\n\t\t\t\t\t\"cateName\":\"\",\n\t\t\t\t\t\"scanSize\":48085112346085,\n\t\t\t\t\t\"storageSize\":92738183291899,\n\t\t\t\t\t\"tableCount\":19\n\t\t\t\t}\n\t\t\t],\n\t\t\t\"storageSize\":262062705019948658\n\t\t},\n\t\t{\n\t\t\t\"cateId\":17000000000000000,\n\t\t\t\"cateName\":\"\",\n\t\t\t\"relatedCategories\":[\n\t\t\t\t{\n\t\t\t\t\t\"cateId\":10000000000000000,\n\t\t\t\t\t\"cateName\":\"\",\n\t\t\t\t\t\"scanSize\":107712128625,\n\t\t\t\t\t\"storageSize\":81672943809615,\n\t\t\t\t\t\"tableCount\":14\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"cateId\":5000000000000000,\n\t\t\t\t\t\"cateName\":\"\",\n\t\t\t\t\t\"scanSize\":7497807766539,\n\t\t\t\t\t\"storageSize\":92738183291899,\n\t\t\t\t\t\"tableCount\":7\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"cateId\":12000000000000000,\n\t\t\t\t\t\"cateName\":\"\",\n\t\t\t\t\t\"scanSize\":8429017620715,\n\t\t\t\t\t\"storageSize\":179425182443045,\n\t\t\t\t\t\"tableCount\":16\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"cateId\":6000000000000000,\n\t\t\t\t\t\"cateName\":\"\",\n\t\t\t\t\t\"scanSize\":3686242556252,\n\t\t\t\t\t\"storageSize\":542349280162432,\n\t\t\t\t\t\"tableCount\":2\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"cateId\":3000000000000000,\n\t\t\t\t\t\"cateName\":\"\",\n\t\t\t\t\t\"scanSize\":334176073944,\n\t\t\t\t\t\"storageSize\":963439859462373,\n\t\t\t\t\t\"tableCount\":14\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"cateId\":13000000000000000,\n\t\t\t\t\t\"cateName\":\"\",\n\t\t\t\t\t\"scanSize\":295388,\n\t\t\t\t\t\"storageSize\":22138368,\n\t\t\t\t\t\"tableCount\":1\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"cateId\":15000000000000000,\n\t\t\t\t\t\"cateName\":\"\",\n\t\t\t\t\t\"scanSize\":2495398972440776,\n\t\t\t\t\t\"storageSize\":291498960564543535,\n\t\t\t\t\t\"tableCount\":1044\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"cateId\":9000000000000000,\n\t\t\t\t\t\"cateName\":\"\",\n\t\t\t\t\t\"scanSize\":128225782852816,\n\t\t\t\t\t\"storageSize\":563046541624162,\n\t\t\t\t\t\"tableCount\":34\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"cateId\":18000000000000000,\n\t\t\t\t\t\"cateName\":\"\",\n\t\t\t\t\t\"scanSize\":412861007935556,\n\t\t\t\t\t\"storageSize\":42806552768124205,\n\t\t\t\t\t\"tableCount\":1451\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"cateId\":14000000000000000,\n\t\t\t\t\t\"cateName\":\"76\",\n\t\t\t\t\t\"scanSize\":7810880,\n\t\t\t\t\t\"storageSize\":914233051820,\n\t\t\t\t\t\"tableCount\":11\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"cateId\":2000000000000000,\n\t\t\t\t\t\"cateName\":\"\",\n\t\t\t\t\t\"scanSize\":19520827677710,\n\t\t\t\t\t\"storageSize\":262062705019948658,\n\t\t\t\t\t\"tableCount\":181\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"cateId\":16000000000000000,\n\t\t\t\t\t\"cateName\":\"\",\n\t\t\t\t\t\"scanSize\":35511307423176,\n\t\t\t\t\t\"storageSize\":15393732145821028,\n\t\t\t\t\t\"tableCount\":109\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"cateId\":11000000000000000,\n\t\t\t\t\t\"cateName\":\"\",\n\t\t\t\t\t\"scanSize\":1110779561092,\n\t\t\t\t\t\"storageSize\":218520252120241,\n\t\t\t\t\t\"tableCount\":325\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"cateId\":1000000000000000,\n\t\t\t\t\t\"cateName\":\"\",\n\t\t\t\t\t\"scanSize\":46513653046,\n\t\t\t\t\t\"storageSize\":14587935167081,\n\t\t\t\t\t\"tableCount\":5\n\t\t\t\t}\n\t\t\t],\n\t\t\t\"storageSize\":44843718250105112\n\t\t},\n\t\t{\n\t\t\t\"cateId\":16000000000000000,\n\t\t\t\"cateName\":\"\",\n\t\t\t\"relatedCategories\":[\n\t\t\t\t{\n\t\t\t\t\t\"cateId\":18000000000000000,\n\t\t\t\t\t\"cateName\":\"\",\n\t\t\t\t\t\"scanSize\":4439766670200,\n\t\t\t\t\t\"storageSize\":42806552768124205,\n\t\t\t\t\t\"tableCount\":169\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"cateId\":9000000000000000,\n\t\t\t\t\t\"cateName\":\"\",\n\t\t\t\t\t\"scanSize\":522378551074,\n\t\t\t\t\t\"storageSize\":563046541624162,\n\t\t\t\t\t\"tableCount\":3\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"cateId\":17000000000000000,\n\t\t\t\t\t\"cateName\":\"\",\n\t\t\t\t\t\"scanSize\":20884053418783,\n\t\t\t\t\t\"storageSize\":44843718250105112,\n\t\t\t\t\t\"tableCount\":228\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"cateId\":2000000000000000,\n\t\t\t\t\t\"cateName\":\"\",\n\t\t\t\t\t\"scanSize\":2428171077839,\n\t\t\t\t\t\"storageSize\":262062705019948658,\n\t\t\t\t\t\"tableCount\":97\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"cateId\":11000000000000000,\n\t\t\t\t\t\"cateName\":\"\",\n\t\t\t\t\t\"scanSize\":3832217587224,\n\t\t\t\t\t\"storageSize\":218520252120241,\n\t\t\t\t\t\"tableCount\":38\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"cateId\":15000000000000000,\n\t\t\t\t\t\"cateName\":\"\",\n\t\t\t\t\t\"scanSize\":383459072550706,\n\t\t\t\t\t\"storageSize\":291498960564543535,\n\t\t\t\t\t\"tableCount\":1422\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"cateId\":3000000000000000,\n\t\t\t\t\t\"cateName\":\"\",\n\t\t\t\t\t\"scanSize\":79410381019,\n\t\t\t\t\t\"storageSize\":963439859462373,\n\t\t\t\t\t\"tableCount\":5\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"cateId\":6000000000000000,\n\t\t\t\t\t\"cateName\":\"\",\n\t\t\t\t\t\"scanSize\":43087814147,\n\t\t\t\t\t\"storageSize\":542349280162432,\n\t\t\t\t\t\"tableCount\":10\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"cateId\":12000000000000000,\n\t\t\t\t\t\"cateName\":\"\",\n\t\t\t\t\t\"scanSize\":1714723480,\n\t\t\t\t\t\"storageSize\":179425182443045,\n\t\t\t\t\t\"tableCount\":6\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"cateId\":14000000000000000,\n\t\t\t\t\t\"cateName\":\"76\",\n\t\t\t\t\t\"scanSize\":82722578248,\n\t\t\t\t\t\"storageSize\":914233051820,\n\t\t\t\t\t\"tableCount\":36\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"cateId\":10000000000000000,\n\t\t\t\t\t\"cateName\":\"\",\n\t\t\t\t\t\"scanSize\":7159885883,\n\t\t\t\t\t\"storageSize\":81672943809615,\n\t\t\t\t\t\"tableCount\":18\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"cateId\":5000000000000000,\n\t\t\t\t\t\"cateName\":\"\",\n\t\t\t\t\t\"scanSize\":39456385344,\n\t\t\t\t\t\"storageSize\":92738183291899,\n\t\t\t\t\t\"tableCount\":16\n\t\t\t\t}\n\t\t\t],\n\t\t\t\"storageSize\":15393732145821028\n\t\t},\n\t\t{\n\t\t\t\"cateId\":1000000000000000,\n\t\t\t\"cateName\":\"\",\n\t\t\t\"relatedCategories\":[\n\t\t\t\t{\n\t\t\t\t\t\"cateId\":2000000000000000,\n\t\t\t\t\t\"cateName\":\"\",\n\t\t\t\t\t\"scanSize\":55804081,\n\t\t\t\t\t\"storageSize\":262062705019948658,\n\t\t\t\t\t\"tableCount\":3\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"cateId\":15000000000000000,\n\t\t\t\t\t\"cateName\":\"\",\n\t\t\t\t\t\"scanSize\":269038199923,\n\t\t\t\t\t\"storageSize\":291498960564543535,\n\t\t\t\t\t\"tableCount\":4\n\t\t\t\t}\n\t\t\t],\n\t\t\t\"storageSize\":14587935167081\n\t\t},\n\t\t{\n\t\t\t\"cateId\":8000000000000000,\n\t\t\t\"cateName\":\"\",\n\t\t\t\"relatedCategories\":[\n\t\t\t\t{\n\t\t\t\t\t\"cateId\":15000000000000000,\n\t\t\t\t\t\"cateName\":\"\",\n\t\t\t\t\t\"scanSize\":30296,\n\t\t\t\t\t\"storageSize\":291498960564543535,\n\t\t\t\t\t\"tableCount\":2\n\t\t\t\t}\n\t\t\t],\n\t\t\t\"storageSize\":9178016\n\t\t},\n\t\t{\n\t\t\t\"cateId\":15000000000000000,\n\t\t\t\"cateName\":\"\",\n\t\t\t\"relatedCategories\":[\n\t\t\t\t{\n\t\t\t\t\t\"cateId\":13000000000000000,\n\t\t\t\t\t\"cateName\":\"\",\n\t\t\t\t\t\"scanSize\":10238990,\n\t\t\t\t\t\"storageSize\":22138368,\n\t\t\t\t\t\"tableCount\":3\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"cateId\":10000000000000000,\n\t\t\t\t\t\"cateName\":\"\",\n\t\t\t\t\t\"scanSize\":4657600809363,\n\t\t\t\t\t\"storageSize\":81672943809615,\n\t\t\t\t\t\"tableCount\":124\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"cateId\":5000000000000000,\n\t\t\t\t\t\"cateName\":\"\",\n\t\t\t\t\t\"scanSize\":44102385619098,\n\t\t\t\t\t\"storageSize\":92738183291899,\n\t\t\t\t\t\"tableCount\":86\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"cateId\":2000000000000000,\n\t\t\t\t\t\"cateName\":\"\",\n\t\t\t\t\t\"scanSize\":485730999939449,\n\t\t\t\t\t\"storageSize\":262062705019948658,\n\t\t\t\t\t\"tableCount\":975\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"cateId\":11000000000000000,\n\t\t\t\t\t\"cateName\":\"\",\n\t\t\t\t\t\"scanSize\":3266523592016,\n\t\t\t\t\t\"storageSize\":218520252120241,\n\t\t\t\t\t\"tableCount\":109\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"cateId\":16000000000000000,\n\t\t\t\t\t\"cateName\":\"\",\n\t\t\t\t\t\"scanSize\":528630552529526,\n\t\t\t\t\t\"storageSize\":15393732145821028,\n\t\t\t\t\t\"tableCount\":840\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"cateId\":1000000000000000,\n\t\t\t\t\t\"cateName\":\"\",\n\t\t\t\t\t\"scanSize\":1346057824466,\n\t\t\t\t\t\"storageSize\":14587935167081,\n\t\t\t\t\t\"tableCount\":6\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"cateId\":8000000000000000,\n\t\t\t\t\t\"cateName\":\"\",\n\t\t\t\t\t\"scanSize\":1944872,\n\t\t\t\t\t\"storageSize\":9178016,\n\t\t\t\t\t\"tableCount\":1\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"cateId\":18000000000000000,\n\t\t\t\t\t\"cateName\":\"\",\n\t\t\t\t\t\"scanSize\":4859351992743555,\n\t\t\t\t\t\"storageSize\":42806552768124205,\n\t\t\t\t\t\"tableCount\":1293\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"cateId\":9000000000000000,\n\t\t\t\t\t\"cateName\":\"\",\n\t\t\t\t\t\"scanSize\":1915849912712266,\n\t\t\t\t\t\"storageSize\":563046541624162,\n\t\t\t\t\t\"tableCount\":319\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"cateId\":3000000000000000,\n\t\t\t\t\t\"cateName\":\"\",\n\t\t\t\t\t\"scanSize\":2315822148231,\n\t\t\t\t\t\"storageSize\":963439859462373,\n\t\t\t\t\t\"tableCount\":110\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"cateId\":6000000000000000,\n\t\t\t\t\t\"cateName\":\"\",\n\t\t\t\t\t\"scanSize\":16498464763900,\n\t\t\t\t\t\"storageSize\":542349280162432,\n\t\t\t\t\t\"tableCount\":13\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"cateId\":12000000000000000,\n\t\t\t\t\t\"cateName\":\"\",\n\t\t\t\t\t\"scanSize\":112042909738041,\n\t\t\t\t\t\"storageSize\":179425182443045,\n\t\t\t\t\t\"tableCount\":109\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"cateId\":17000000000000000,\n\t\t\t\t\t\"cateName\":\"\",\n\t\t\t\t\t\"scanSize\":4869105264862071,\n\t\t\t\t\t\"storageSize\":44843718250105112,\n\t\t\t\t\t\"tableCount\":1590\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"cateId\":14000000000000000,\n\t\t\t\t\t\"cateName\":\"76\",\n\t\t\t\t\t\"scanSize\":255987874439,\n\t\t\t\t\t\"storageSize\":914233051820,\n\t\t\t\t\t\"tableCount\":27\n\t\t\t\t}\n\t\t\t],\n\t\t\t\"storageSize\":291498960564543535\n\t\t}\n\t]","import * as React from \"react\";\nimport { ReScreen } from \"regraph-next\";\nimport Bubble from \"./Bubble\";\nimport { data } from \"./data\";\nimport \"./Bubble.scss\";\n\nexport default class BubbleDemo extends React.Component<any, any> {\n  render() {\n    return (\n      <div className=\"bubble-wrapper\">\n        <Bubble\n          width={628}\n          height={445}\n          margin={60}\n          data={data}\n          rowCount={Math.ceil(data.length / 4)}\n        />\n      </div>\n    );\n  }\n}\n","import * as React from \"react\";\nimport { Layout, Menu } from \"antd\";\nimport { Switch, Route, Link, useLocation, useHistory } from \"react-router-dom\";\nimport Editor from \"./editor\";\nimport Bubble from \"./bubble\";\n\nimport \"./styles.scss\";\nconst { useState, useEffect } = React;\nconst { Header, Content } = Layout;\n\nexport default function App() {\n  const [menuKey, setMenuKey] = useState(\"/\");\n  const location = useLocation();\n  useEffect(() => {\n    const pathname = location.pathname;\n    setMenuKey(pathname);\n  }, [location]);\n\n  console.log('menuKey',menuKey)\n  return (\n    <Layout className=\"layout\">\n      <Header>\n        <div className=\"logo\" />\n        <Menu\n          theme=\"dark\"\n          mode=\"horizontal\"\n          selectedKeys={[menuKey]}\n          style={{ lineHeight: \"64px\" }}\n        >\n          <Menu.Item key=\"/\">\n            <Link to=\"/\"></Link>\n          </Menu.Item>\n          <Menu.Item key=\"/bubble\">\n            <Link to=\"/bubble\"></Link>\n          </Menu.Item>\n        </Menu>\n      </Header>\n      <Content>\n        <div className=\"site-layout-content\">\n          <Switch>\n            <Route exact path=\"/\" component={Editor} />\n            <Route exact path=\"/bubble\" component={Bubble} />\n          </Switch>\n        </div>\n      </Content>\n    </Layout>\n  );\n}\n","import * as React from \"react\";\nimport { render } from \"react-dom\";\nimport { BrowserRouter } from \"react-router-dom\";\n\nimport \"antd/dist/antd.css\";\n\nimport App from \"./App\";\n\nconst rootElement = document.getElementById(\"root\");\nrender(\n  <BrowserRouter basename=\"regraph-demo\">\n    <App />\n  </BrowserRouter>,\n  rootElement\n);\n"],"sourceRoot":""}